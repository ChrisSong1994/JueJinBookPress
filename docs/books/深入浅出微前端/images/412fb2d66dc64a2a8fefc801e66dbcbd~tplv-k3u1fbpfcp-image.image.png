<svg xmlns="http://www.w3.org/2000/svg" width="4966px" height="8156px" version="1.1"><defs/><g transform="translate(0.5,0.5)"><rect x="361" y="51" width="200" height="40" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><path d="M 461 91 L 461 8151" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 198px; height: 1px; padding-top: 71px; margin-left: 362px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 14px; font-family: Garamond; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">微应用<br />运行时</div></div></div></foreignObject><text x="461" y="75" fill="#000000" font-family="Garamond" font-size="14px" text-anchor="middle">[Not supported by viewer]</text></switch></g><rect x="721" y="51" width="200" height="40" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><path d="M 821 91 L 821 8151" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 198px; height: 1px; padding-top: 71px; margin-left: 722px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 14px; font-family: Garamond; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">single-spa<br />registerApplication 注册函数</div></div></div></foreignObject><text x="821" y="75" fill="#000000" font-family="Garamond" font-size="14px" text-anchor="middle">[Not supported by viewer]</text></switch></g><rect x="816" y="171" width="10" height="70" fill="#ffffff" stroke="#000000" pointer-events="none"/><rect x="816" y="581" width="10" height="210" fill="#ffffff" stroke="#000000" pointer-events="none"/><rect x="1081" y="51" width="200" height="40" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><path d="M 1181 91 L 1181 8151" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 198px; height: 1px; padding-top: 71px; margin-left: 1082px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 14px; font-family: Garamond; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">single-spa <br style="font-size: 14px;" />sanitizeArguments 函数</div></div></div></foreignObject><text x="1181" y="75" fill="#000000" font-family="Garamond" font-size="14px" text-anchor="middle">[Not supported by viewer]</text></switch></g><rect x="1176" y="201" width="10" height="420" fill="#ffffff" stroke="#000000" pointer-events="none"/><rect x="2311" y="51" width="200" height="40" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><path d="M 2411 91 L 2411 8151" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 198px; height: 1px; padding-top: 71px; margin-left: 2312px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 14px; font-family: Garamond; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">single-spa <br style="font-size: 14px;" />loadApps 函数</div></div></div></foreignObject><text x="2411" y="75" fill="#000000" font-family="Garamond" font-size="14px" text-anchor="middle">[Not supported by viewer]</text></switch></g><rect x="2406" y="1281" width="10" height="90" fill="#ffffff" stroke="#000000" pointer-events="none"/><rect x="2406" y="2981" width="10" height="310" fill="#ffffff" stroke="#000000" pointer-events="none"/><rect x="2406" y="3951" width="10" height="80" fill="#ffffff" stroke="#000000" pointer-events="none"/><rect x="2406" y="5721" width="10" height="330" fill="#ffffff" stroke="#000000" pointer-events="none"/><rect x="1801" y="51" width="200" height="40" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><path d="M 1901 91 L 1901 8151" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 198px; height: 1px; padding-top: 71px; margin-left: 1802px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 14px; font-family: Garamond; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">single-spa <br style="font-size: 14px;" />getAppChanges 函数</div></div></div></foreignObject><text x="1901" y="75" fill="#000000" font-family="Garamond" font-size="14px" text-anchor="middle">[Not supported by viewer]</text></switch></g><rect x="1896" y="771" width="10" height="470" fill="#ffffff" stroke="#000000" pointer-events="none"/><rect x="1896" y="2622.5" width="10" height="108.5" fill="#ffffff" stroke="#000000" pointer-events="none"/><rect x="1441" y="51" width="200" height="40" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><path d="M 1541 91 L 1541 8151" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 198px; height: 1px; padding-top: 71px; margin-left: 1442px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 14px; font-family: Garamond; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">single-spa <br style="font-size: 14px;" />reroute 函数</div></div></div></foreignObject><text x="1541" y="75" fill="#000000" font-family="Garamond" font-size="14px" text-anchor="middle">[Not supported by viewer]</text></switch></g><rect x="1536" y="761" width="10" height="50" fill="#ffffff" stroke="#000000" pointer-events="none"/><rect x="1536" y="1201" width="10" height="120" fill="#ffffff" stroke="#000000" pointer-events="none"/><rect x="1531" y="4581" width="160" height="40" rx="16" ry="16" fill="#99ccff" stroke="none" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 158px; height: 1px; padding-top: 4601px; margin-left: 1532px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">使用参数 2 loadApp</div></div></div></foreignObject><text x="1611" y="4605" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g><rect x="1" y="51" width="200" height="40" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><path d="M 101 91 L 101 8151" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 198px; height: 1px; padding-top: 71px; margin-left: 2px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 14px; font-family: Garamond; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">主应用<br style="font-size: 14px;" />主运行时</div></div></div></foreignObject><text x="101" y="75" fill="#000000" font-family="Garamond" font-size="14px" text-anchor="middle">[Not supported by viewer]</text></switch></g><path d="M 121 141 L 146 141 L 146 161 L 129.12 161" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 122.12 161 L 129.12 157.5 L 129.12 164.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 151px; margin-left: 150px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Garamond; color: #000000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; ">注册 React 微应用</div></div></div></foreignObject><text x="150" y="155" fill="#000000" font-family="Garamond" font-size="12px">[Not supported by viewer]</text></switch></g><path d="M 121 191 L 456 191 Q 466 191 476 191 L 802.88 191" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 809.88 191 L 802.88 194.5 L 802.88 187.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-end; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 188px; margin-left: 466px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Garamond; color: #000000; line-height: 1.2; pointer-events: none; white-space: nowrap; ">调用 registerApplication，传递注册需要的四个参数</div></div></div></foreignObject><text x="466" y="188" fill="#000000" font-family="Garamond" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g><path d="M 841 621 L 866 621 L 866 641 L 849.12 641" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 842.12 641 L 849.12 637.5 L 849.12 644.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 631px; margin-left: 870px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Garamond; color: #000000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; ">判断是否已经注册过微应用<br />如果注册过则抛出异常</div></div></div></foreignObject><text x="870" y="635" fill="#000000" font-family="Garamond" font-size="12px">[Not supported by viewer]</text></switch></g><path d="M 841 721.03 L 866 721 L 866 741 L 849.12 741.02" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 842.12 741.03 L 849.11 737.52 L 849.12 744.52 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 731px; margin-left: 870px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Garamond; color: #000000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; ">缓存注册的微应用（包括格式化的参数、应用初始状态 NOT_LOADED ）<br />后续可用于获取微应用信息和判断是否已经注册</div></div></div></foreignObject><text x="870" y="735" fill="#000000" font-family="Garamond" font-size="12px">[Not supported by viewer]</text></switch></g><path d="M 841 770.41 L 841 770.21 Q 841 770 851 770 L 1511 770 Q 1521 770 1516.94 770.2 L 1512.88 770.41" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 1519.88 770.41 L 1512.88 773.91 L 1512.88 766.91 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-end; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 767px; margin-left: 1181px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Garamond; color: #000000; line-height: 1.2; pointer-events: none; white-space: nowrap; ">如果是浏览器环境，执行 reroute 函数</div></div></div></foreignObject><text x="1181" y="767" fill="#000000" font-family="Garamond" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g><rect x="748.5" y="1" width="145" height="40" rx="16" ry="16" fill="#ffffc0" stroke="#ffffff" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 143px; height: 1px; padding-top: 21px; margin-left: 750px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">微应用注册</div></div></div></foreignObject><text x="821" y="25" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g><rect x="1108.5" y="1" width="145" height="40" rx="16" ry="16" fill="#ffffc0" stroke="#ffffff" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 143px; height: 1px; padding-top: 21px; margin-left: 1110px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">微应用注册参数格式化</div></div></div></foreignObject><text x="1181" y="25" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g><path d="M 841 221 L 996 221 Q 1006 221 1016 221 L 1162.88 221" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 1169.88 221 L 1162.88 224.5 L 1162.88 217.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-end; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 218px; margin-left: 1006px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Garamond; color: #000000; line-height: 1.2; pointer-events: none; white-space: nowrap; ">调用 sanitizeArguments，对注册的参数进行格式化</div></div></div></foreignObject><text x="1006" y="218" fill="#000000" font-family="Garamond" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g><path d="M 1201 241 L 1226 241 L 1226 261 L 1209.12 261" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 1202.12 261 L 1209.12 257.5 L 1209.12 264.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 251px; margin-left: 1230px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Garamond; color: #000000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; ">判断是否使用对象 API 形式</div></div></div></foreignObject><text x="1230" y="255" fill="#000000" font-family="Garamond" font-size="12px">[Not supported by viewer]</text></switch></g><path d="M 1201 281 L 1226 281 L 1226 301 L 1209.12 301" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 1202.12 301 L 1209.12 297.5 L 1209.12 304.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 291px; margin-left: 1230px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Garamond; color: #000000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; ">如果是对象 API<br />则对传入的首个对象参数进行格式校验</div></div></div></foreignObject><text x="1230" y="295" fill="#000000" font-family="Garamond" font-size="12px">[Not supported by viewer]</text></switch></g><path d="M 1201 321 L 1226 321 L 1226 341 L 1209.12 341" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 1202.12 341 L 1209.12 337.5 L 1209.12 344.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 331px; margin-left: 1230px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Garamond; color: #000000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; ">如果是函数 API<br />则对传入的四个参数进行格式校验</div></div></div></foreignObject><text x="1230" y="335" fill="#000000" font-family="Garamond" font-size="12px">[Not supported by viewer]</text></switch></g><path d="M 1201 411 L 1226 411 L 1226 431 L 1209.12 431" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 1202.12 431 L 1209.12 427.5 L 1209.12 434.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 421px; margin-left: 1230px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Garamond; color: #000000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; ">对参数 2 loadApp 进行格式化<br />如果是对象，则包装成返回 Promise 的函数</div></div></div></foreignObject><text x="1230" y="425" fill="#000000" font-family="Garamond" font-size="12px">[Not supported by viewer]</text></switch></g><rect x="1200" y="361" width="299" height="40" rx="16" ry="16" fill="#ffffc0" stroke="#ffffff" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 297px; height: 1px; padding-top: 381px; margin-left: 1201px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">例如将 { bootstrap, mount, unmount } 包装成<br /> () =&gt; Promise.resolve({ bootstrap, mount, unmount })</div></div></div></foreignObject><text x="1350" y="385" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g><path d="M 1201 451 L 1226 451 L 1226 471 L 1209.12 471" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 1202.12 471 L 1209.12 467.5 L 1209.12 474.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 461px; margin-left: 1230px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Garamond; color: #000000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; ">对参数 4 customProps 进行格式化<br />如果没有传递该参数，则默认为空对象</div></div></div></foreignObject><text x="1230" y="465" fill="#000000" font-family="Garamond" font-size="12px">[Not supported by viewer]</text></switch></g><path d="M 1201 571 L 1226 571 L 1226 591 L 1209.12 591" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 1202.12 591 L 1209.12 587.5 L 1209.12 594.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 581px; margin-left: 1230px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Garamond; color: #000000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; ">对参数 3 activeWhen 进行格式化<br />统一包装成返回 boolean 值的路由匹配函数</div></div></div></foreignObject><text x="1230" y="585" fill="#000000" font-family="Garamond" font-size="12px">[Not supported by viewer]</text></switch></g><rect x="1200" y="491" width="300" height="60" rx="24" ry="24" fill="#ffffc0" stroke="#ffffff" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 298px; height: 1px; padding-top: 521px; margin-left: 1201px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">1、字符串、函数、字符串和函数的数组都统一成数组<br />2、如果是字符串，包装成正则进行匹配<br />3、对当前 URL 的路由进行匹配</div></div></div></foreignObject><text x="1350" y="525" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g><path d="M 1161 601 L 843.24 601" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none"/><path d="M 851.12 596.5 L 842.12 601 L 851.12 605.5" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-end; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 598px; margin-left: 1001px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Garamond; color: #000000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; ">返回格式化后的参数</div></div></div></foreignObject><text x="1001" y="598" fill="#000000" font-family="Garamond" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g><rect x="1468.5" y="1" width="145" height="40" rx="16" ry="16" fill="#ffffc0" stroke="#ffffff" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 143px; height: 1px; padding-top: 21px; margin-left: 1470px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">路由变化执行函数</div></div></div></foreignObject><text x="1541" y="25" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g><rect x="1814.75" y="1" width="172.5" height="40" rx="16" ry="16" fill="#ffffc0" stroke="#ffffff" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 171px; height: 1px; padding-top: 21px; margin-left: 1816px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">微应用状态转换计算函数</div></div></div></foreignObject><text x="1901" y="25" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g><path d="M 1556 791 L 1711 791 Q 1721 791 1731 791 L 1877.88 791" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 1884.88 791 L 1877.88 794.5 L 1877.88 787.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-end; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 788px; margin-left: 1721px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Garamond; color: #000000; line-height: 1.2; pointer-events: none; white-space: nowrap; ">调用 getAppChanges，判断所有微应用的变化情况 </div></div></div></foreignObject><text x="1721" y="788" fill="#000000" font-family="Garamond" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g><path d="M 1921 801 L 1946 801 L 1946 821 L 1929.12 821" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 1922.12 821 L 1929.12 817.5 L 1929.12 824.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 811px; margin-left: 1950px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Garamond; color: #000000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; ">计算当前执行的时间戳</div></div></div></foreignObject><text x="1950" y="815" fill="#000000" font-family="Garamond" font-size="12px">[Not supported by viewer]</text></switch></g><path d="M 1921 901 L 1946 901 L 1946 921 L 1929.12 921" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 1922.12 921 L 1929.12 917.5 L 1929.12 924.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 911px; margin-left: 1950px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Garamond; color: #000000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; ">从缓存中获取微应用列表<br />遍历微应用调用参数 3 格式化后的 activeWhen 函数判断是否匹配路由激活微应用<br />注意：当前状态是 SKIP_BECAUSE_BROKEN 则不需要激活 </div></div></div></foreignObject><text x="1950" y="915" fill="#000000" font-family="Garamond" font-size="12px">[Not supported by viewer]</text></switch></g><rect x="1921" y="841" width="280" height="40" rx="16" ry="16" fill="#ffffc0" stroke="#ffffff" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 278px; height: 1px; padding-top: 861px; margin-left: 1922px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">在 registerApplication 注册函数中<br />已经缓存了注册微应用的信息以及相应的参数信息</div></div></div></foreignObject><text x="2061" y="865" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g><rect x="1921" y="941" width="280" height="40" rx="16" ry="16" fill="#ffffc0" stroke="#ffffff" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 278px; height: 1px; padding-top: 961px; margin-left: 1922px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">接下来是状态机中的状态转换计算<br />任一时刻微应用只能处于一个状态</div></div></div></foreignObject><text x="2061" y="965" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g><path d="M 1921 1001 L 1946 1001 L 1946 1021 L 1929.12 1021" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 1922.12 1021 L 1929.12 1017.5 L 1929.12 1024.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 1011px; margin-left: 1950px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Garamond; color: #000000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; ">当前微应用状态是 LOAD_ERROR<br />如果微应用被激活且加载失败的时间超过 200ms，将其添加到 appsToLoad 数组中</div></div></div></foreignObject><text x="1950" y="1015" fill="#000000" font-family="Garamond" font-size="12px">[Not supported by viewer]</text></switch></g><path d="M 1921 1051 L 1946 1051 L 1946 1071 L 1929.12 1071" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 1922.12 1071 L 1929.12 1067.5 L 1929.12 1074.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 1061px; margin-left: 1950px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Garamond; color: #000000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; ">当前微应用状态是 NOT_LOADED 或 LOADING_SOURCE_CODE<br />如果微应用被激活，将其添加到 appsToLoad 数组中</div></div></div></foreignObject><text x="1950" y="1065" fill="#000000" font-family="Garamond" font-size="12px">[Not supported by viewer]</text></switch></g><path d="M 1921 1101 L 1946 1101 L 1946 1121 L 1929.12 1121" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 1922.12 1121 L 1929.12 1117.5 L 1929.12 1124.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 1111px; margin-left: 1950px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Garamond; color: #000000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; ">当前微应用状态是 NOT_BOOTSTRAPPED 或者 NOT_MOUNTED<br />如果微应用失活，则将其添加到 appsToUnload 数组中<br />如果微应用激活，则将其添加到 appsToMount 数组中</div></div></div></foreignObject><text x="1950" y="1115" fill="#000000" font-family="Garamond" font-size="12px">[Not supported by viewer]</text></switch></g><path d="M 1921 1151 L 1946 1151 L 1946 1171 L 1929.12 1171" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 1922.12 1171 L 1929.12 1167.5 L 1929.12 1174.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 1161px; margin-left: 1950px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Garamond; color: #000000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; ">当前微应用状态是 MOUNTED<br />如果微应用失活，则将其添加到 appsToUnmount 数组</div></div></div></foreignObject><text x="1950" y="1165" fill="#000000" font-family="Garamond" font-size="12px">[Not supported by viewer]</text></switch></g><path d="M 1881 1221 L 1563.24 1221" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none"/><path d="M 1571.12 1216.5 L 1562.12 1221 L 1571.12 1225.5" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-end; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1218px; margin-left: 1721px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Garamond; color: #000000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; ">返回所有需要变化的微应用信息</div></div></div></foreignObject><text x="1721" y="1218" fill="#000000" font-family="Garamond" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g><rect x="1571" y="1101" width="275" height="90" rx="36" ry="36" fill="#ffffc0" stroke="#ffffff" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 273px; height: 1px; padding-top: 1146px; margin-left: 1572px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">appsToUnload: 需要清除的应用<br />appsToUnmount: 需要卸载的应用<br /> appsToLoad: 需要加载的应用<br /> appsToMount: 需要挂载的应用<br />首次没有激活 React 应用时上述都为空数组</div></div></div></foreignObject><text x="1709" y="1150" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g><rect x="2221" y="841" width="150" height="40" rx="16" ry="16" fill="#99ccff" stroke="#ffffff" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 148px; height: 1px; padding-top: 861px; margin-left: 2222px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">使用参数 3 activeWhen</div></div></div></foreignObject><text x="2296" y="865" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g><rect x="841" y="661" width="220" height="40" rx="16" ry="16" fill="#ff9999" stroke="#ffffff" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 218px; height: 1px; padding-top: 681px; margin-left: 842px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">初始化应用的状态为 NOT_LOADED</div></div></div></foreignObject><text x="951" y="685" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g><path d="M 1561 1241 L 1586 1241 L 1586 1261 L 1569.12 1261" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 1562.12 1261 L 1569.12 1257.5 L 1569.12 1264.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 1251px; margin-left: 1590px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Garamond; color: #000000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; ">判断是否已经调用 start 函数启动微应用</div></div></div></foreignObject><text x="1590" y="1255" fill="#000000" font-family="Garamond" font-size="12px">[Not supported by viewer]</text></switch></g><path d="M 1561 1301 L 1966 1301 Q 1976 1301 1986 1301 L 2382.88 1301" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 2389.88 1301 L 2382.88 1304.5 L 2382.88 1297.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-end; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1298px; margin-left: 1976px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Garamond; color: #000000; line-height: 1.2; pointer-events: none; white-space: nowrap; ">没有执行过 start 函数时调用 loadApps 函数，根据需要变化的 appsToLoad 微应用信息，执行微应用的加载</div></div></div></foreignObject><text x="1976" y="1298" fill="#000000" font-family="Garamond" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g><rect x="2324.75" y="1" width="172.5" height="40" rx="16" ry="16" fill="#ffffc0" stroke="#ffffff" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 171px; height: 1px; padding-top: 21px; margin-left: 2326px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">微应用批量异步加载函数</div></div></div></foreignObject><text x="2411" y="25" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g><path d="M 2431 1321 L 2456 1321 L 2456 1341 L 2439.12 1341" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 2432.12 1341 L 2439.12 1337.5 L 2439.12 1344.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 1331px; margin-left: 2460px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Garamond; color: #000000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; ">开启微任务，准备异步加载微应用<br />等待主应用同步任务执行完毕后再执行，避免阻塞主线程</div></div></div></foreignObject><text x="2460" y="1335" fill="#000000" font-family="Garamond" font-size="12px">[Not supported by viewer]</text></switch></g><path d="M 2431 2591 L 2456 2591 L 2456 2611 L 2439.12 2611" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 2432.12 2611 L 2439.12 2607.5 L 2439.12 2614.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 2601px; margin-left: 2460px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Garamond; color: #000000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; ">开启微任务，准备异步加载微应用<br />等待主应用同步任务执行完毕后再执行，避免阻塞主线程</div></div></div></foreignObject><text x="2460" y="2605" fill="#000000" font-family="Garamond" font-size="12px">[Not supported by viewer]</text></switch></g><rect x="2431" y="1261" width="250" height="40" rx="16" ry="16" fill="#ffffc0" stroke="#ffffff" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 248px; height: 1px; padding-top: 1281px; margin-left: 2432px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">这里会等待同步代码执行完毕<br />例如所有的 registerApplication 和 start </div></div></div></foreignObject><text x="2556" y="1285" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g><rect x="2431" y="2531" width="250" height="40" rx="16" ry="16" fill="#ffffc0" stroke="#ffffff" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 248px; height: 1px; padding-top: 2551px; margin-left: 2432px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">这里会等待同步代码执行完毕<br />例如所有的 registerApplication 和 start </div></div></div></foreignObject><text x="2556" y="2555" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g><path d="M 121 2571 L 146 2571 L 146 2591 L 129.12 2591" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 122.12 2591 L 129.12 2587.5 L 129.12 2594.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 2581px; margin-left: 150px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Garamond; color: #000000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; ">执行 start 函数</div></div></div></foreignObject><text x="150" y="2585" fill="#000000" font-family="Garamond" font-size="12px">[Not supported by viewer]</text></switch></g><path d="M 121 2621 L 811 2621 Q 821 2621 831 2621 L 1512.88 2621" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 1519.88 2621 L 1512.88 2624.5 L 1512.88 2617.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-end; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2618px; margin-left: 821px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Garamond; color: #000000; line-height: 1.2; pointer-events: none; white-space: nowrap; ">如果是浏览器环境，执行 reroute 函数</div></div></div></foreignObject><text x="821" y="2618" fill="#000000" font-family="Garamond" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g><path d="M 1561 2741 L 1586 2741 L 1586 2761 L 1569.12 2761" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 1562.12 2761 L 1569.12 2757.5 L 1569.12 2764.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 2751px; margin-left: 1590px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Garamond; color: #000000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; ">判断是否已经调用 start 函数启动微应用</div></div></div></foreignObject><text x="1590" y="2755" fill="#000000" font-family="Garamond" font-size="12px">[Not supported by viewer]</text></switch></g><rect x="2681" y="51" width="272.5" height="40" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><path d="M 2817.25 91 L 2817.25 8151" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 271px; height: 1px; padding-top: 71px; margin-left: 2682px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 14px; font-family: Garamond; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">single-spa <br style="font-size: 14px;" />performAppChanges 函数</div></div></div></foreignObject><text x="2817" y="75" fill="#000000" font-family="Garamond" font-size="14px" text-anchor="middle">[Not supported by viewer]</text></switch></g><rect x="2812.25" y="2814" width="10" height="87" fill="#ffffff" stroke="#000000" pointer-events="none"/><rect x="2812.25" y="3241" width="10" height="730" fill="#ffffff" stroke="#000000" pointer-events="none"/><rect x="2812.25" y="5071" width="10" height="120" fill="#ffffff" stroke="#000000" pointer-events="none"/><rect x="2812.25" y="5761" width="10" height="270" fill="#ffffff" stroke="#000000" pointer-events="none"/><rect x="2812.25" y="7091" width="10" height="220" fill="#ffffff" stroke="#000000" pointer-events="none"/><path d="M 2841 7191 L 2866.5 7191 L 2866.5 7211 L 2849.12 7211" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 2842.12 7211 L 2849.12 7207.5 L 2849.12 7214.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 7201px; margin-left: 2870px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Garamond; color: #000000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; ">等待所有应用的 unmount 执行完毕</div></div></div></foreignObject><text x="2870" y="7205" fill="#000000" font-family="Garamond" font-size="12px">[Not supported by viewer]</text></switch></g><rect x="2812.25" y="4341" width="10" height="80" fill="#ffffff" stroke="#000000" pointer-events="none"/><rect x="2728.5" y="1" width="172.5" height="40" rx="16" ry="16" fill="#ffffc0" stroke="#ffffff" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 171px; height: 1px; padding-top: 21px; margin-left: 2730px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">微应用批量变更函数</div></div></div></foreignObject><text x="2815" y="25" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g><path d="M 1561 2831.03 L 1561 2831.02 Q 1561 2831 1571 2831 L 2752.88 2831" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 2759.88 2831 L 2752.88 2834.5 L 2752.88 2827.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-end; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2828px; margin-left: 2161px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Garamond; color: #000000; line-height: 1.2; pointer-events: none; white-space: nowrap; ">已经执行过 start 函数时调用 performAppChanges 函数，根据需要变化微应用信息，执行微应用的变更流程</div></div></div></foreignObject><text x="2161" y="2828" fill="#000000" font-family="Garamond" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g><path d="M 2841 2851 L 2866 2851 L 2866 2871 L 2849.12 2871" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 2842.12 2871 L 2849.12 2867.5 L 2849.12 2874.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 2861px; margin-left: 2870px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Garamond; color: #000000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; ">开启微任务，异步执行应用批量变更逻辑<br />等待主应用同步任务执行完毕后再执行，避免阻塞主线程</div></div></div></foreignObject><text x="2870" y="2865" fill="#000000" font-family="Garamond" font-size="12px">[Not supported by viewer]</text></switch></g><path d="M 2431 3051 L 2456 3051 L 2456 3071 L 2439.12 3071" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 2432.12 3071 L 2439.12 3067.5 L 2439.12 3074.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 3061px; margin-left: 2460px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Garamond; color: #000000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; ">等待所有的 toLoadPromise 执行完毕<br />由于首次注册 React 微应用，此时没有任何微应用需要 toLoadPromise </div></div></div></foreignObject><text x="2460" y="3065" fill="#000000" font-family="Garamond" font-size="12px">[Not supported by viewer]</text></switch></g><path d="M 1921 2411 L 1946 2411 L 1946 2431 L 1929.12 2431" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 1922.12 2431 L 1929.12 2427.5 L 1929.12 2434.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 2421px; margin-left: 1950px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Garamond; color: #000000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; ">当前微应用状态是 NOT_BOOTSTRAPPED 或者 NOT_MOUNTED<br />如果微应用失活，则将其添加到 appsToUnload 数组中<br />如果微应用激活，则将其添加到 appsToMount 数组中</div></div></div></foreignObject><text x="1950" y="2425" fill="#000000" font-family="Garamond" font-size="12px">[Not supported by viewer]</text></switch></g><path d="M 1921 2361 L 1946 2361 L 1946 2381 L 1929.12 2381" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 1922.12 2381 L 1929.12 2377.5 L 1929.12 2384.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 2371px; margin-left: 1950px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Garamond; color: #000000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; ">当前微应用状态是 NOT_LOADED 或 LOADING_SOURCE_CODE<br />如果微应用被激活，将其添加到 appsToLoad 数组中</div></div></div></foreignObject><text x="1950" y="2375" fill="#000000" font-family="Garamond" font-size="12px">[Not supported by viewer]</text></switch></g><rect x="3121" y="51" width="260" height="40" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><path d="M 3251 91 L 3251 8151" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 258px; height: 1px; padding-top: 71px; margin-left: 3122px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 14px; font-family: Garamond; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">single-spa <br style="font-size: 14px;" />toLoadPromise 函数</div></div></div></foreignObject><text x="3251" y="75" fill="#000000" font-family="Garamond" font-size="14px" text-anchor="middle">[Not supported by viewer]</text></switch></g><rect x="3246" y="3151" width="10" height="90" fill="#ffffff" stroke="#000000" pointer-events="none"/><rect x="3246" y="3731" width="10" height="130" fill="#ffffff" stroke="#000000" pointer-events="none"/><path d="M 3271 3811 L 3296 3811 L 3296 3831 L 3279.12 3831" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 3272.12 3831 L 3279.12 3827.5 L 3279.12 3834.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 3821px; margin-left: 3300px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Garamond; color: #000000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; ">开启微任务，异步执行微应用加载逻辑<br />等待主应用同步任务执行完毕后再执行，避免阻塞主线程</div></div></div></foreignObject><text x="3300" y="3825" fill="#000000" font-family="Garamond" font-size="12px">[Not supported by viewer]</text></switch></g><rect x="3246" y="3971" width="10" height="1160" fill="#ffffff" stroke="#000000" pointer-events="none"/><rect x="3246" y="5281" width="10" height="500" fill="#ffffff" stroke="#000000" pointer-events="none"/><rect x="3181" y="3661" width="240" height="50" rx="20" ry="20" fill="#9999ff" stroke="none" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 238px; height: 1px; padding-top: 3686px; margin-left: 3182px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">加入 Promise 回调 4<br />等待 toLoadPromise 执行完毕</div></div></div></foreignObject><text x="3301" y="3690" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g><rect x="3164.75" y="1" width="172.5" height="40" rx="16" ry="16" fill="#ffffc0" stroke="#ffffff" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 171px; height: 1px; padding-top: 21px; margin-left: 3166px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">微应用加载函数</div></div></div></foreignObject><text x="3251" y="25" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g><path d="M 3270.94 3191 L 3295.9 3191 L 3295.9 3211 L 3279.06 3211" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 3272.06 3211 L 3279.06 3207.5 L 3279.06 3214.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 3201px; margin-left: 3300px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Garamond; color: #000000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; ">开启微任务，异步执行微应用加载逻辑<br />等待主应用同步任务执行完毕后再执行，避免阻塞主线程</div></div></div></foreignObject><text x="3300" y="3205" fill="#000000" font-family="Garamond" font-size="12px">[Not supported by viewer]</text></switch></g><path d="M 3272 4001 L 3297 4001 L 3297 4021 L 3280.12 4021" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 3273.12 4021 L 3280.12 4017.5 L 3280.12 4024.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 4011px; margin-left: 3301px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Garamond; color: #000000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; ">是否正在执行微应用的加载<br />如果正在执行，则直接返回对应的异步 Promise 对象</div></div></div></foreignObject><text x="3301" y="4015" fill="#000000" font-family="Garamond" font-size="12px">[Not supported by viewer]</text></switch></g><path d="M 3272 4041 L 3297 4041 L 3297 4061 L 3280.12 4061" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 3273.12 4061 L 3280.12 4057.5 L 3280.12 4064.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 4051px; margin-left: 3301px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Garamond; color: #000000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; ">如果微应用的状态不是 NOT_LOADED 和 LOAD_ERROR<br />则不进行加载处理 </div></div></div></foreignObject><text x="3301" y="4055" fill="#000000" font-family="Garamond" font-size="12px">[Not supported by viewer]</text></switch></g><path d="M 3272 4131 L 3297 4131 L 3297 4151 L 3280.12 4151" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 3273.12 4151 L 3280.12 4147.5 L 3280.12 4154.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 4141px; margin-left: 3301px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Garamond; color: #000000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; ">将应用的状态设置为 LOADING_SOURCE_CODE </div></div></div></foreignObject><text x="3301" y="4145" fill="#000000" font-family="Garamond" font-size="12px">[Not supported by viewer]</text></switch></g><path d="M 3272 4171 L 3297 4171 L 3297 4191 L 3280.12 4191" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 3273.12 4191 L 3280.12 4187.5 L 3280.12 4194.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 4181px; margin-left: 3301px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Garamond; color: #000000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; ">缓存异步加载微应用的 Promise 对象到 app 对象中<br />用于标记当前正在执行微应用的异步加载，可以过滤掉重复的加载</div></div></div></foreignObject><text x="3301" y="4185" fill="#000000" font-family="Garamond" font-size="12px">[Not supported by viewer]</text></switch></g><path d="M 3272 4971 L 3297 4971 L 3297 4991 L 3280.12 4991" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 3273.12 4991 L 3280.12 4987.5 L 3280.12 4994.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 4981px; margin-left: 3301px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Garamond; color: #000000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; ">判断是否返回了 Promise 对象<br />如果不是，则抛出异常</div></div></div></foreignObject><text x="3301" y="4985" fill="#000000" font-family="Garamond" font-size="12px">[Not supported by viewer]</text></switch></g><path d="M 3272 5391 L 3297 5391 L 3297 5411 L 3280.12 5411" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 3273.12 5411 L 3280.12 5407.5 L 3280.12 5414.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 5401px; margin-left: 3301px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Garamond; color: #000000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; ">对返回值的所有生命周期函数进行格式化校验<br />例如判断 bootstrap 是否存在，是否是函数，是否是函数数组等</div></div></div></foreignObject><text x="3301" y="5405" fill="#000000" font-family="Garamond" font-size="12px">[Not supported by viewer]</text></switch></g><path d="M 3272 5481 L 3297 5481 L 3297 5501 L 3280.12 5501" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 3273.12 5501 L 3280.12 5497.5 L 3280.12 5504.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 5491px; margin-left: 3301px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Garamond; color: #000000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; ">将应用的状态设置为 NOT_BOOTSTRAPPED </div></div></div></foreignObject><text x="3301" y="5495" fill="#000000" font-family="Garamond" font-size="12px">[Not supported by viewer]</text></switch></g><path d="M 3272 5581 L 3297 5581 L 3297 5601 L 3280.12 5601" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 3273.12 5601 L 3280.12 5597.5 L 3280.12 5604.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 5591px; margin-left: 3301px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Garamond; color: #000000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; ">对所有生命周期函数进行数组平铺处理<br />例如 bootstrap: [ async () =&gt; {}, async () =&gt; {}] 平铺成按顺序链式执行 Promise</div></div></div></foreignObject><text x="3301" y="5595" fill="#000000" font-family="Garamond" font-size="12px">[Not supported by viewer]</text></switch></g><rect x="3272" y="5521" width="330" height="40" rx="16" ry="16" fill="#ffffc0" stroke="none" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 328px; height: 1px; padding-top: 5541px; margin-left: 3273px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">在 qiankun 中所有的生命周期函数都是 async 数组</div></div></div></foreignObject><text x="3437" y="5545" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g><path d="M 3272 5621 L 3297 5621 L 3297 5641 L 3280.12 5641" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 3273.12 5641 L 3280.12 5637.5 L 3280.12 5644.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 5631px; margin-left: 3301px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Garamond; color: #000000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; ">将平铺后的生命周期函数缓存到对应的微应用 app 对象中<br />后续会在特定的时机执行这些生命周期函数</div></div></div></foreignObject><text x="3301" y="5635" fill="#000000" font-family="Garamond" font-size="12px">[Not supported by viewer]</text></switch></g><path d="M 2431 3171.24 L 2431 3171.12 Q 2431 3171 2441 3171 L 3222.88 3171" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 3229.88 3171 L 3222.88 3174.5 L 3222.88 3167.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-end; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 3168px; margin-left: 2831px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Garamond; color: #000000; line-height: 1.2; pointer-events: none; white-space: nowrap; ">由于 appsToLoad 中存在 vue 微应用，批量调用 toLoadPromise</div></div></div></foreignObject><text x="2831" y="3168" fill="#000000" font-family="Garamond" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g><rect x="2694.75" y="1261" width="216.25" height="40" rx="16" ry="16" fill="#9999ff" stroke="#ffffff" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 214px; height: 1px; padding-top: 1281px; margin-left: 2696px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">【注册 React 微应用】加入微任务 1<br />等待异步执行 loadApps</div></div></div></foreignObject><text x="2803" y="1285" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g><path d="M 2841 3271 L 2866 3271 L 2866 3291 L 2849.12 3291" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 2842.12 3291 L 2849.12 3287.5 L 2849.12 3294.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 3281px; margin-left: 2870px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Garamond; color: #000000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; ">计算需要变更的微应用信息<br />提供发送事件需要的数据详情（即将变更的应用新状态信息、变更的应用数等）</div></div></div></foreignObject><text x="2870" y="3285" fill="#000000" font-family="Garamond" font-size="12px">[Not supported by viewer]</text></switch></g><path d="M 2841 3311 L 2866 3311 L 2866 3331 L 2849.12 3331" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 2842.12 3331 L 2849.12 3327.5 L 2849.12 3334.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 3321px; margin-left: 2870px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Garamond; color: #000000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; ">发送 single-spa:before-app-change 事件<br />并提供事件对应的应用变化的详情信息</div></div></div></foreignObject><text x="2870" y="3325" fill="#000000" font-family="Garamond" font-size="12px">[Not supported by viewer]</text></switch></g><path d="M 2841 3361 L 2866 3361 L 2866 3381 L 2849.12 3381" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 2842.12 3381 L 2849.12 3377.5 L 2849.12 3384.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 3371px; margin-left: 2870px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Garamond; color: #000000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; ">发送 single-spa:before-routing-event 事件<br />并提供事件对应的应用变化的详情信息以及可以取消导航变化的钩子函数</div></div></div></foreignObject><text x="2870" y="3375" fill="#000000" font-family="Garamond" font-size="12px">[Not supported by viewer]</text></switch></g><path d="M 2841 3511 L 2866 3511 L 2866 3531 L 2849.12 3531" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 2842.12 3531 L 2849.12 3527.5 L 2849.12 3534.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 3521px; margin-left: 2870px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Garamond; color: #000000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; ">如果有应用需要 unload，则批量执行 toUnloadPromise</div></div></div></foreignObject><text x="2870" y="3525" fill="#000000" font-family="Garamond" font-size="12px">[Not supported by viewer]</text></switch></g><rect x="2841" y="3451" width="220" height="40" rx="16" ry="16" fill="#ffffc0" stroke="none" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 218px; height: 1px; padding-top: 3471px; margin-left: 2842px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">由于首次激活微应用<br />因此这里没有需要 unload 的微应用</div></div></div></foreignObject><text x="2951" y="3475" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g><path d="M 2841 3631 L 2866 3631 L 2866 3651 L 2849.12 3651" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 2842.12 3651 L 2849.12 3647.5 L 2849.12 3654.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 3641px; margin-left: 2870px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Garamond; color: #000000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; ">如果有应用需要 unmount，则批量执行 toUnmountPromise 和 toUnloadPromise<br />并等待所有的 Promise 执行完毕  </div></div></div></foreignObject><text x="2870" y="3645" fill="#000000" font-family="Garamond" font-size="12px">[Not supported by viewer]</text></switch></g><rect x="2841" y="3551" width="400" height="60" rx="24" ry="24" fill="#ffffc0" stroke="none" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 398px; height: 1px; padding-top: 3581px; margin-left: 2842px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">为什么需要在执行完 toUnmountPromise 后执行 toUnloadPromise 呢？<br />这和直接执行 toUnloadPromise 有什么区别呢？  <br />由于首次激活微应用，这里没有需要 unmount 的微应用 </div></div></div></foreignObject><text x="3041" y="3585" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g><rect x="2841" y="3661" width="330" height="50" rx="20" ry="20" fill="#ffffc0" stroke="none" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 328px; height: 1px; padding-top: 3686px; margin-left: 2842px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">在 unmont 和 unload 的同时执行 load<br />load 的执行不会等待 unmount 完毕</div></div></div></foreignObject><text x="3006" y="3690" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g><path d="M 2841 3751 L 3026 3751 Q 3036 3751 3046 3751 L 3222.88 3751" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 3229.88 3751 L 3222.88 3754.5 L 3222.88 3747.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-end; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 3748px; margin-left: 3036px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Garamond; color: #000000; line-height: 1.2; pointer-events: none; white-space: nowrap; ">如果有应用需要 load，则批量执行 toLoadPromise</div></div></div></foreignObject><text x="3036" y="3748" fill="#000000" font-family="Garamond" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g><rect x="2841" y="3771" width="220" height="40" rx="16" ry="16" fill="#ffffc0" stroke="none" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 218px; height: 1px; padding-top: 3791px; margin-left: 2842px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">由于首次激活，appsToMount = []<br />没有需要 mount 的应用</div></div></div></foreignObject><text x="2951" y="3795" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g><path d="M 2841 3831 L 2866 3831 L 2866 3851 L 2849.12 3851" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 2842.12 3851 L 2849.12 3847.5 L 2849.12 3854.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 3841px; margin-left: 2870px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Garamond; color: #000000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; ">如果 app 已经 load 和 bootstrap<br />那么可能需要等待所有 unmount 结束后执行 mount</div></div></div></foreignObject><text x="2870" y="3845" fill="#000000" font-family="Garamond" font-size="12px">[Not supported by viewer]</text></switch></g><rect x="3272" y="4081" width="265" height="40" rx="16" ry="16" fill="#ff9999" stroke="none" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 263px; height: 1px; padding-top: 4101px; margin-left: 3273px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">更改应用状态为 LOADING_SOURCE_CODE </div></div></div></foreignObject><text x="3405" y="4105" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g><path d="M 2841 4366 L 2866 4366 L 2866 4386 L 2849.12 4386" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 2842.12 4386 L 2849.12 4382.5 L 2849.12 4389.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 4376px; margin-left: 2870px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Garamond; color: #000000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; ">所有 unmount 和 unload 执行完毕后<br />发送 single-spa:before-mount-routing-event 事件</div></div></div></foreignObject><text x="2870" y="4380" fill="#000000" font-family="Garamond" font-size="12px">[Not supported by viewer]</text></switch></g><path d="M 3271 4281 L 3296 4281 L 3296 4301 L 3279.12 4301" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 3272.12 4301 L 3279.12 4297.5 L 3279.12 4304.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 4291px; margin-left: 3300px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Garamond; color: #000000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; ">等待异步执行微应用的加载<br />返回 Promise 执行状态</div></div></div></foreignObject><text x="3300" y="4295" fill="#000000" font-family="Garamond" font-size="12px">[Not supported by viewer]</text></switch></g><path d="M 2841 3411 L 2866 3411 L 2866 3431 L 2849.12 3431" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 2842.12 3431 L 2849.12 3427.5 L 2849.12 3434.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 3421px; margin-left: 2870px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Garamond; color: #000000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; ">如果外部主应用监听了 single-spa:before-routing-event 事件并调用了取消导航的钩子函数<br />single-spa 会触发相应的取消事件和后续的结束事件，并回退到旧的导航，后续逻辑放弃执行</div></div></div></foreignObject><text x="2870" y="3425" fill="#000000" font-family="Garamond" font-size="12px">[Not supported by viewer]</text></switch></g><rect x="2579.75" y="3301" width="220" height="40" rx="16" ry="16" fill="#97d077" stroke="none" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 218px; height: 1px; padding-top: 3321px; margin-left: 2581px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">发送事件<br />single-spa:before-app-change </div></div></div></foreignObject><text x="2690" y="3325" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g><rect x="1921" y="2309" width="470" height="40" rx="16" ry="16" fill="#ffffc0" stroke="#ffffff" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 468px; height: 1px; padding-top: 2329px; margin-left: 1922px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">/vue 路由激活了 vue 微应用<br />应用初始化状态为 NOT_LOADED 并且路由匹配成功，将应用放入 appsToLoad</div></div></div></foreignObject><text x="2156" y="2333" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g><rect x="1624.75" y="2431" width="190" height="30" rx="12" ry="12" fill="#ffffc0" stroke="#ffffff" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 188px; height: 1px; padding-top: 2446px; margin-left: 1626px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">appsToLoad 放入了 vue 微应用</div></div></div></foreignObject><text x="1720" y="2450" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g><rect x="2579.75" y="3351" width="220" height="40" rx="16" ry="16" fill="#97d077" stroke="none" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 218px; height: 1px; padding-top: 3371px; margin-left: 2581px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">发送事件<br />single-spa:before-routing-event </div></div></div></foreignObject><text x="2690" y="3375" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g><rect x="2579.75" y="4356" width="220" height="40" rx="16" ry="16" fill="#97d077" stroke="none" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 218px; height: 1px; padding-top: 4376px; margin-left: 2581px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">发送事件<br />single-spa:before-mount-routing-event </div></div></div></foreignObject><text x="2690" y="4380" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g><path d="M 2841 3931 L 2866 3931 L 2866 3951 L 2849.12 3951" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 2842.12 3951 L 2849.12 3947.5 L 2849.12 3954.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 3941px; margin-left: 2870px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Garamond; color: #000000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; ">等待所有的 unmount 和 unload 执行结束 </div></div></div></foreignObject><text x="2870" y="3945" fill="#000000" font-family="Garamond" font-size="12px">[Not supported by viewer]</text></switch></g><path d="M 3272 4421 L 3297 4421 L 3297 4441 L 3280.12 4441" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 3273.12 4441 L 3280.12 4437.5 L 3280.12 4444.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 4431px; margin-left: 3301px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Garamond; color: #000000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; ">由于微任务 4 已经执行了应用的加载，因此已经在 app 上缓存了 Promise 对象<br />此时判断到 Promise 存在，则直接返回 Promise，防止重复加载</div></div></div></foreignObject><text x="3301" y="4435" fill="#000000" font-family="Garamond" font-size="12px">[Not supported by viewer]</text></switch></g><path d="M 2431 3241 L 2456 3241 L 2456 3261 L 2439.12 3261" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 2432.12 3261 L 2439.12 3257.5 L 2439.12 3264.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 3251px; margin-left: 2460px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Garamond; color: #000000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; ">等待所有的 toLoadPromise 执行完毕<br />此时等待 Vue 微应用加载完毕</div></div></div></foreignObject><text x="2460" y="3255" fill="#000000" font-family="Garamond" font-size="12px">[Not supported by viewer]</text></switch></g><rect x="2671" y="2991" width="250" height="40" rx="16" ry="16" fill="#9999ff" stroke="none" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 248px; height: 1px; padding-top: 3011px; margin-left: 2672px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">【注册 React 微应用】 加入 Promise 回调 1<br />等待所有的 toLoadPromise 执行完毕</div></div></div></foreignObject><text x="2796" y="3015" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g><path d="M 2431 4001 L 2456 4001 L 2456 4021 L 2439.12 4021" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 2432.12 4021 L 2439.12 4017.5 L 2439.12 4024.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 4011px; margin-left: 2460px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Garamond; color: #000000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; ">第一次注册 React 微应用对应的 loadApps 加载完毕<br />第一次没有需要进行的 toLoadPromise<br />回调主要执行 callAllEventListeners 处理路由事件，但是首次加载没有事件需要处理 </div></div></div></foreignObject><text x="2460" y="4015" fill="#000000" font-family="Garamond" font-size="12px">[Not supported by viewer]</text></switch></g><path d="M 3272 4601 L 3297 4601 L 3297 4621 L 3280.12 4621" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 3273.12 4621 L 3280.12 4617.5 L 3280.12 4624.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 4611px; margin-left: 3301px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Garamond; color: #000000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; ">调用 getProps 获取注册时提供的参数 4 customProps 的数据<br />包括 customProps 格式校验以及额外需要传递的信息处理</div></div></div></foreignObject><text x="3301" y="4615" fill="#000000" font-family="Garamond" font-size="12px">[Not supported by viewer]</text></switch></g><rect x="3462" y="4531" width="150" height="49" rx="19.6" ry="19.6" fill="#99ccff" stroke="none" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 148px; height: 1px; padding-top: 4556px; margin-left: 3463px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">使用参数 4 customProps</div></div></div></foreignObject><text x="3537" y="4559" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g><path d="M 129.12 4647 L 1666 4647 Q 1676 4647 1686 4647 L 3231 4647" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 122.12 4647 L 129.12 4643.5 L 129.12 4650.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-end; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 4644px; margin-left: 1676px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Garamond; color: #000000; line-height: 1.2; pointer-events: none; white-space: nowrap; ">调用在 sanitizeArguments 中已经格式化成返回 Promise 的函数的参数 2 loadApp，传递 customProps 数据，执行微应用的加载逻辑 </div></div></div></foreignObject><text x="1676" y="4644" fill="#000000" font-family="Garamond" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g><path d="M 121 4671 L 146 4671 L 146 4691 L 129.12 4691" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 122.12 4691 L 129.12 4687.5 L 129.12 4694.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 4681px; margin-left: 150px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Garamond; color: #000000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; ">在主应用中执行 fetchApp 方法，注意这里需要返回 Promise</div></div></div></foreignObject><text x="150" y="4685" fill="#000000" font-family="Garamond" font-size="12px">[Not supported by viewer]</text></switch></g><path d="M 121 4711 L 146 4711 L 146 4731 L 129.12 4731" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 122.12 4731 L 129.12 4727.5 L 129.12 4734.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 4721px; margin-left: 150px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Garamond; color: #000000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; ">通过 window.fetch 遍历获取代码分割后的脚本</div></div></div></foreignObject><text x="150" y="4725" fill="#000000" font-family="Garamond" font-size="12px">[Not supported by viewer]</text></switch></g><path d="M 121 4891 L 146 4891 L 146 4911 L 129.12 4911" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 122.12 4911 L 129.12 4907.5 L 129.12 4914.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 4901px; margin-left: 150px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Garamond; color: #000000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; ">按顺序遍历 window 属性<br />立即获取最后一个属性，即为导出的微应用生命周期函数对象</div></div></div></foreignObject><text x="150" y="4905" fill="#000000" font-family="Garamond" font-size="12px">[Not supported by viewer]</text></switch></g><path d="M 3228.76 4948 L 121 4948.14" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none"/><path d="M 3222.88 4951.5 L 3229.88 4948 L 3222.88 4944.5" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-end; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 4945px; margin-left: 1676px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Garamond; color: #000000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; ">返回包含微应用生命周期函数对象的 Promise</div></div></div></foreignObject><text x="1676" y="4945" fill="#000000" font-family="Garamond" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g><rect x="1482" y="4821" width="400" height="100" rx="40" ry="40" fill="#ffffc0" stroke="none" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 398px; height: 1px; padding-top: 4871px; margin-left: 1483px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">single-spa 将应用的加载逻辑交由开发者自行决定<br /><br />不管采用什么方式加载微应用<br />例如 window.fetch、动态 Script、Ajax 请求、NPM 包模块化加载<br />参数 2 loadApp 本质上是返回微应用生命周期函数的 Promise 对象</div></div></div></foreignObject><text x="1682" y="4875" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g><rect x="3271" y="5011" width="220" height="50" rx="20" ry="20" fill="#9999ff" stroke="none" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 218px; height: 1px; padding-top: 5036px; margin-left: 3272px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">加入 Promise 回调 7<br />等待参数 2 loadApp 执行完毕</div></div></div></foreignObject><text x="3381" y="5040" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g><path d="M 3272 5081 L 3297 5081 L 3297 5101 L 3280.12 5101" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 3273.12 5101 L 3280.12 5097.5 L 3280.12 5104.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 5091px; margin-left: 3301px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Garamond; color: #000000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; ">如果 loadApp 执行后返回的是 Promise 对象<br />等待 Promise 的回调执行</div></div></div></foreignObject><text x="3301" y="5095" fill="#000000" font-family="Garamond" font-size="12px">[Not supported by viewer]</text></switch></g><path d="M 2841 5121 L 2866 5121 L 2866 5141 L 2849.12 5141" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 2842.12 5141 L 2849.12 5137.5 L 2849.12 5144.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 5131px; margin-left: 2870px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Garamond; color: #000000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; ">所有的 unmount 和 unload 执行完毕<br />回调主要执行 callAllEventListeners 处理路由事件，首次加载没有事件需要处理</div></div></div></foreignObject><text x="2870" y="5135" fill="#000000" font-family="Garamond" font-size="12px">[Not supported by viewer]</text></switch></g><path d="M 3272 5311 L 3297 5311 L 3297 5331 L 3280.12 5331" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 3273.12 5331 L 3280.12 5327.5 L 3280.12 5334.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 5321px; margin-left: 3301px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Garamond; color: #000000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; ">重置 app 的加载错误时间<br />有回调说明 app 加载成功</div></div></div></foreignObject><text x="3301" y="5325" fill="#000000" font-family="Garamond" font-size="12px">[Not supported by viewer]</text></switch></g><path d="M 3272 5351 L 3297 5351 L 3297 5371 L 3280.12 5371" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 3273.12 5371 L 3280.12 5367.5 L 3280.12 5374.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 5361px; margin-left: 3301px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Garamond; color: #000000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; ">由于需要返回生命周期函数对象 { bootstrap，mount，unmount }<br />因此需要判断 Promise 回调的值是否是对象</div></div></div></foreignObject><text x="3301" y="5365" fill="#000000" font-family="Garamond" font-size="12px">[Not supported by viewer]</text></switch></g><path d="M 3272 5661 L 3297 5661 L 3297 5681 L 3280.12 5681" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 3273.12 5681 L 3280.12 5677.5 L 3280.12 5684.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 5671px; margin-left: 3301px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Garamond; color: #000000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; ">删除当前异步加载的 Promise 对象，解除重复加载的限制<br />如果之后执行了 unload，激活应用后还能继续执行 loadApp 加载</div></div></div></foreignObject><text x="3301" y="5675" fill="#000000" font-family="Garamond" font-size="12px">[Not supported by viewer]</text></switch></g><path d="M 3272 5701 L 3297 5701 L 3297 5721 L 3280.12 5721" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 3273.12 5721 L 3280.12 5717.5 L 3280.12 5724.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 5711px; margin-left: 3301px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Garamond; color: #000000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; ">返回赋值了生命周期函数的 app 对象</div></div></div></foreignObject><text x="3301" y="5715" fill="#000000" font-family="Garamond" font-size="12px">[Not supported by viewer]</text></switch></g><path d="M 2842.25 5811 L 2867.3 5811 L 2867.3 5831 L 2850.37 5831" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 2843.37 5831 L 2850.37 5827.5 L 2850.37 5834.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 5821px; margin-left: 2871px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Garamond; color: #000000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; ">Vue 微应用的 loadApp 执行完毕<br />准备执行 bootstrap 和 mount</div></div></div></foreignObject><text x="2871" y="5825" fill="#000000" font-family="Garamond" font-size="12px">[Not supported by viewer]</text></switch></g><path d="M 2842.25 5861 L 2867.3 5861 L 2867.3 5881 L 2850.37 5881" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 2843.37 5881 L 2850.37 5877.5 L 2850.37 5884.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 5871px; margin-left: 2871px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Garamond; color: #000000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; ">再次判断当前需要 bootstrap 和 mount 的 Vue 微应用<br />是否被激活</div></div></div></foreignObject><text x="2871" y="5875" fill="#000000" font-family="Garamond" font-size="12px">[Not supported by viewer]</text></switch></g><rect x="3514.75" y="1" width="172.5" height="40" rx="16" ry="16" fill="#ffffc0" stroke="#ffffff" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 171px; height: 1px; padding-top: 21px; margin-left: 3516px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">微应用启动函数</div></div></div></foreignObject><text x="3601" y="25" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g><path d="M 2842.25 5901.33 L 2842.25 5901.16 Q 2842.25 5901 2852.25 5901 L 3572.25 5901 Q 3582.25 5901 3578.19 5901.16 L 3574.13 5901.33" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 3581.13 5901.33 L 3574.13 5904.83 L 3574.13 5897.83 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-end; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 5898px; margin-left: 3212px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Garamond; color: #000000; line-height: 1.2; pointer-events: none; white-space: nowrap; ">Vue 微应用被激活，准备执行 toBootstrapPromise</div></div></div></foreignObject><text x="3212" y="5898" fill="#000000" font-family="Garamond" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g><path d="M 3621 5971 L 3646 5971 L 3646 5991 L 3629.12 5991" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 3622.12 5991 L 3629.12 5987.5 L 3629.12 5994.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 5981px; margin-left: 3650px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Garamond; color: #000000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; ">开启微任务，异步执行微应用启动逻辑<br />等待主应用同步任务执行完毕后再执行，避免阻塞主线程</div></div></div></foreignObject><text x="3650" y="5985" fill="#000000" font-family="Garamond" font-size="12px">[Not supported by viewer]</text></switch></g><path d="M 2842.25 5991 L 2867.3 5991 L 2867.3 6011 L 2850.37 6011" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 2843.37 6011 L 2850.37 6007.5 L 2850.37 6014.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 6001px; margin-left: 2871px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Garamond; color: #000000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; ">等待应用的 toBootstrapPromise 执行完毕</div></div></div></foreignObject><text x="2871" y="6005" fill="#000000" font-family="Garamond" font-size="12px">[Not supported by viewer]</text></switch></g><path d="M 2431 6001 L 2456 6001 L 2456 6021 L 2439.12 6021" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 2432.12 6021 L 2439.12 6017.5 L 2439.12 6024.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 6011px; margin-left: 2460px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Garamond; color: #000000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; ">所有的 load 执行完毕（Vue 微应用加载完毕）<br />回调主要执行 callAllEventListeners 处理路由事件，<br />但是首次加载没有事件需要处理</div></div></div></foreignObject><text x="2460" y="6015" fill="#000000" font-family="Garamond" font-size="12px">[Not supported by viewer]</text></switch></g><rect x="3272" y="4531" width="170" height="49" rx="19.6" ry="19.6" fill="#ff99ff" stroke="none" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 168px; height: 1px; padding-top: 4556px; margin-left: 3273px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">真正开始加载 Vue 微应用</div></div></div></foreignObject><text x="3357" y="4559" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g><rect x="3471" y="5242" width="170" height="49" rx="19.6" ry="19.6" fill="#ffffc0" stroke="none" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 168px; height: 1px; padding-top: 5267px; margin-left: 3472px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">解析 Vue 微应用执行后的<br />微应用生命周期函数</div></div></div></foreignObject><text x="3556" y="5270" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g><path d="M 3621 6081 L 3646 6081 L 3646 6101 L 3629.12 6101" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 3622.12 6101 L 3629.12 6097.5 L 3629.12 6104.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 6091px; margin-left: 3650px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Garamond; color: #000000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; ">判断应用的状态是否为 NOT_BOOTSTRAPPED<br />如果不是则返回 </div></div></div></foreignObject><text x="3650" y="6095" fill="#000000" font-family="Garamond" font-size="12px">[Not supported by viewer]</text></switch></g><path d="M 3621 6171 L 3646 6171 L 3646 6191 L 3629.12 6191" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 3622.12 6191 L 3629.12 6187.5 L 3629.12 6194.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 6181px; margin-left: 3650px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Garamond; color: #000000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; ">将应用的状态设置为 BOOTSTRAPPING </div></div></div></foreignObject><text x="3650" y="6185" fill="#000000" font-family="Garamond" font-size="12px">[Not supported by viewer]</text></switch></g><path d="M 4241 6621 L 4266 6621 L 4266 6641 L 4249.12 6641" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 4242.12 6641 L 4249.12 6637.5 L 4249.12 6644.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 6631px; margin-left: 4270px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Garamond; color: #000000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; ">设置 bootstrap 函数运行的超时时间</div></div></div></foreignObject><text x="4270" y="6635" fill="#000000" font-family="Garamond" font-size="12px">[Not supported by viewer]</text></switch></g><rect x="4121" y="51" width="200" height="40" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><path d="M 4221 91 L 4221 8151" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 198px; height: 1px; padding-top: 71px; margin-left: 4122px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 14px; font-family: Garamond; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">single-spa <br style="font-size: 14px;" />reasonableTime 函数</div></div></div></foreignObject><text x="4221" y="75" fill="#000000" font-family="Garamond" font-size="14px" text-anchor="middle">[Not supported by viewer]</text></switch></g><rect x="4216" y="6201" width="10" height="460" fill="#ffffff" stroke="#000000" pointer-events="none"/><rect x="4216" y="6891" width="10" height="110" fill="#ffffff" stroke="#000000" pointer-events="none"/><rect x="4134.75" y="1" width="172.5" height="40" rx="16" ry="16" fill="#ffffc0" stroke="#ffffff" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 171px; height: 1px; padding-top: 21px; margin-left: 4136px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">微应用周期函数执行</div></div></div></foreignObject><text x="4221" y="25" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g><path d="M 3621 6221.12 L 3621 6221.06 Q 3621 6221 3631 6221 L 4191 6221 Q 4201 6221 4196.94 6221.06 L 4192.88 6221.12" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 4199.88 6221.12 L 4192.88 6224.62 L 4192.88 6217.62 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-end; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 6218px; margin-left: 3911px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Garamond; color: #000000; line-height: 1.2; pointer-events: none; white-space: nowrap; ">调用 reasonableTime 执行 bootstrap 函数</div></div></div></foreignObject><text x="3911" y="6218" fill="#000000" font-family="Garamond" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g><path d="M 4241 6380 L 4266 6380 L 4266 6400 L 4249.12 6400" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 4242.12 6400 L 4249.12 6396.5 L 4249.12 6403.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 6390px; margin-left: 4270px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Garamond; color: #000000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; ">获取注册应用时提供的参数 4 customProps<br />执行微应用的 bootstrap 函数</div></div></div></foreignObject><text x="4270" y="6394" fill="#000000" font-family="Garamond" font-size="12px">[Not supported by viewer]</text></switch></g><rect x="96" y="121" width="10" height="100" fill="#ffffff" stroke="#000000" pointer-events="none"/><rect x="96" y="1381" width="10" height="100" fill="#ffffff" stroke="#000000" pointer-events="none"/><rect x="816" y="1441" width="10" height="70" fill="#ffffff" stroke="#000000" pointer-events="none"/><rect x="816" y="1851" width="10" height="210" fill="#ffffff" stroke="#000000" pointer-events="none"/><path d="M 121 1401 L 146 1401 L 146 1421 L 129.12 1421" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 122.12 1421 L 129.12 1417.5 L 129.12 1424.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 1411px; margin-left: 150px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Garamond; color: #000000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; ">注册 Vue 微应用</div></div></div></foreignObject><text x="150" y="1415" fill="#000000" font-family="Garamond" font-size="12px">[Not supported by viewer]</text></switch></g><rect x="1536" y="2031" width="10" height="50" fill="#ffffff" stroke="#000000" pointer-events="none"/><rect x="1536" y="2471" width="10" height="390" fill="#ffffff" stroke="#000000" pointer-events="none"/><path d="M 121 1461 L 451 1461 Q 461 1461 471 1461 L 792.88 1461" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 799.88 1461 L 792.88 1464.5 L 792.88 1457.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-end; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1458px; margin-left: 461px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Garamond; color: #000000; line-height: 1.2; pointer-events: none; white-space: nowrap; ">调用 registerApplication，传递注册需要的四个参数</div></div></div></foreignObject><text x="461" y="1458" fill="#000000" font-family="Garamond" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g><path d="M 841 1891 L 866 1891 L 866 1911 L 849.12 1911" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 842.12 1911 L 849.12 1907.5 L 849.12 1914.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 1901px; margin-left: 870px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Garamond; color: #000000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; ">判断是否已经注册过微应用<br />如果注册过则抛出异常</div></div></div></foreignObject><text x="870" y="1905" fill="#000000" font-family="Garamond" font-size="12px">[Not supported by viewer]</text></switch></g><path d="M 841 1991.03 L 866 1991 L 866 2011 L 849.12 2011.02" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 842.12 2011.03 L 849.11 2007.52 L 849.12 2014.52 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 2001px; margin-left: 870px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Garamond; color: #000000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; ">缓存注册的微应用（包括格式化的参数、应用初始状态 NOT_LOADED ）<br />后续可用于获取微应用信息和判断是否已经注册</div></div></div></foreignObject><text x="870" y="2005" fill="#000000" font-family="Garamond" font-size="12px">[Not supported by viewer]</text></switch></g><path d="M 841 2040.41 L 841 2040.2 Q 841 2040 851 2040 L 1511 2040 Q 1521 2040 1516.94 2040.2 L 1512.88 2040.41" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 1519.88 2040.41 L 1512.88 2043.91 L 1512.88 2036.91 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-end; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2037px; margin-left: 1181px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Garamond; color: #000000; line-height: 1.2; pointer-events: none; white-space: nowrap; ">如果是浏览器环境，执行 reroute 函数</div></div></div></foreignObject><text x="1181" y="2037" fill="#000000" font-family="Garamond" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g><rect x="1896" y="2041" width="10" height="470" fill="#ffffff" stroke="#000000" pointer-events="none"/><rect x="1176" y="1471" width="10" height="420" fill="#ffffff" stroke="#000000" pointer-events="none"/><path d="M 841 1491 L 996 1491 Q 1006 1491 1016 1491 L 1162.88 1491" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 1169.88 1491 L 1162.88 1494.5 L 1162.88 1487.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-end; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1488px; margin-left: 1006px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Garamond; color: #000000; line-height: 1.2; pointer-events: none; white-space: nowrap; ">调用 sanitizeArguments，对注册的参数进行格式化</div></div></div></foreignObject><text x="1006" y="1488" fill="#000000" font-family="Garamond" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g><path d="M 1201 1511 L 1226 1511 L 1226 1531 L 1209.12 1531" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 1202.12 1531 L 1209.12 1527.5 L 1209.12 1534.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 1521px; margin-left: 1230px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Garamond; color: #000000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; ">判断是否使用对象 API 形式</div></div></div></foreignObject><text x="1230" y="1525" fill="#000000" font-family="Garamond" font-size="12px">[Not supported by viewer]</text></switch></g><path d="M 1201 1551 L 1226 1551 L 1226 1571 L 1209.12 1571" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 1202.12 1571 L 1209.12 1567.5 L 1209.12 1574.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 1561px; margin-left: 1230px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Garamond; color: #000000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; ">如果是对象 API<br />则对传入的首个对象参数进行格式校验</div></div></div></foreignObject><text x="1230" y="1565" fill="#000000" font-family="Garamond" font-size="12px">[Not supported by viewer]</text></switch></g><path d="M 1201 1591 L 1226 1591 L 1226 1611 L 1209.12 1611" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 1202.12 1611 L 1209.12 1607.5 L 1209.12 1614.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 1601px; margin-left: 1230px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Garamond; color: #000000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; ">如果是函数 API<br />则对传入的四个参数进行格式校验</div></div></div></foreignObject><text x="1230" y="1605" fill="#000000" font-family="Garamond" font-size="12px">[Not supported by viewer]</text></switch></g><path d="M 1201 1681 L 1226 1681 L 1226 1701 L 1209.12 1701" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 1202.12 1701 L 1209.12 1697.5 L 1209.12 1704.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 1691px; margin-left: 1230px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Garamond; color: #000000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; ">对参数 2 loadApp 进行格式化<br />如果是对象，则包装成返回 Promise 的函数</div></div></div></foreignObject><text x="1230" y="1695" fill="#000000" font-family="Garamond" font-size="12px">[Not supported by viewer]</text></switch></g><rect x="1201" y="1631" width="299" height="40" rx="16" ry="16" fill="#ffffc0" stroke="#ffffff" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 297px; height: 1px; padding-top: 1651px; margin-left: 1202px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">例如将 { bootstrap, mount, unmount } 包装成<br /> () =&gt; Promise.resolve({ bootstrap, mount, unmount })</div></div></div></foreignObject><text x="1351" y="1655" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g><path d="M 1201 1721 L 1226 1721 L 1226 1741 L 1209.12 1741" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 1202.12 1741 L 1209.12 1737.5 L 1209.12 1744.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 1731px; margin-left: 1230px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Garamond; color: #000000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; ">对参数 4 customProps 进行格式化<br />如果没有传递该参数，则默认为空对象</div></div></div></foreignObject><text x="1230" y="1735" fill="#000000" font-family="Garamond" font-size="12px">[Not supported by viewer]</text></switch></g><path d="M 1200 1831 L 1225 1831 L 1225 1851 L 1208.12 1851" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 1201.12 1851 L 1208.12 1847.5 L 1208.12 1854.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 1841px; margin-left: 1229px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Garamond; color: #000000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; ">对参数 3 activeWhen 进行格式化<br />统一包装成返回 boolean 值的路由匹配函数</div></div></div></foreignObject><text x="1229" y="1845" fill="#000000" font-family="Garamond" font-size="12px">[Not supported by viewer]</text></switch></g><path d="M 1161 1871 L 843.24 1871" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none"/><path d="M 851.12 1866.5 L 842.12 1871 L 851.12 1875.5" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-end; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1868px; margin-left: 1001px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Garamond; color: #000000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; ">返回格式化后的参数</div></div></div></foreignObject><text x="1001" y="1868" fill="#000000" font-family="Garamond" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g><path d="M 1556 2061 L 1711 2061 Q 1721 2061 1731 2061 L 1877.88 2061" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 1884.88 2061 L 1877.88 2064.5 L 1877.88 2057.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-end; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2058px; margin-left: 1721px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Garamond; color: #000000; line-height: 1.2; pointer-events: none; white-space: nowrap; ">调用 getAppChanges，判断所有微应用的变化情况 </div></div></div></foreignObject><text x="1721" y="2058" fill="#000000" font-family="Garamond" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g><path d="M 1921 2071 L 1946 2071 L 1946 2091 L 1929.12 2091" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 1922.12 2091 L 1929.12 2087.5 L 1929.12 2094.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 2081px; margin-left: 1950px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Garamond; color: #000000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; ">计算当前执行的时间戳</div></div></div></foreignObject><text x="1950" y="2085" fill="#000000" font-family="Garamond" font-size="12px">[Not supported by viewer]</text></switch></g><path d="M 1921 2171 L 1946 2171 L 1946 2191 L 1929.12 2191" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 1922.12 2191 L 1929.12 2187.5 L 1929.12 2194.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 2181px; margin-left: 1950px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Garamond; color: #000000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; ">从缓存中获取微应用列表<br />遍历微应用调用参数 3 初始化后的 activeWhen 函数判断是否匹配路由激活微应用<br />注意：当前状态是 SKIP_BECAUSE_BROKEN 则不需要激活 </div></div></div></foreignObject><text x="1950" y="2185" fill="#000000" font-family="Garamond" font-size="12px">[Not supported by viewer]</text></switch></g><rect x="1921" y="2111" width="280" height="40" rx="16" ry="16" fill="#ffffc0" stroke="#ffffff" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 278px; height: 1px; padding-top: 2131px; margin-left: 1922px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">在 registerApplication 注册函数中<br />已经缓存了注册微应用的信息以及相应的参数信息</div></div></div></foreignObject><text x="2061" y="2135" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g><path d="M 1921 2271 L 1946 2271 L 1946 2291 L 1929.12 2291" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 1922.12 2291 L 1929.12 2287.5 L 1929.12 2294.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 2281px; margin-left: 1950px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Garamond; color: #000000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; ">当前微应用状态是 LOAD_ERROR<br />如果微应用被激活且加载失败的时间超过 200ms，将其添加到 appsToLoad 数组中</div></div></div></foreignObject><text x="1950" y="2285" fill="#000000" font-family="Garamond" font-size="12px">[Not supported by viewer]</text></switch></g><path d="M 1921 2461 L 1946 2461 L 1946 2481 L 1929.12 2481" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 1922.12 2481 L 1929.12 2477.5 L 1929.12 2484.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 2471px; margin-left: 1950px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Garamond; color: #000000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; ">当前微应用状态是 MOUNTED<br />如果微应用失活，则将其添加到 appsToUnmount 数组</div></div></div></foreignObject><text x="1950" y="2475" fill="#000000" font-family="Garamond" font-size="12px">[Not supported by viewer]</text></switch></g><path d="M 1881 2491 L 1563.24 2491" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none"/><path d="M 1571.12 2486.5 L 1562.12 2491 L 1571.12 2495.5" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-end; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2488px; margin-left: 1721px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Garamond; color: #000000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; ">返回所有需要变化的微应用信息</div></div></div></foreignObject><text x="1721" y="2488" fill="#000000" font-family="Garamond" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g><rect x="841" y="1931" width="220" height="40" rx="16" ry="16" fill="#ff9999" stroke="#ffffff" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 218px; height: 1px; padding-top: 1951px; margin-left: 842px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">初始化应用的状态为 NOT_LOADED</div></div></div></foreignObject><text x="951" y="1955" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g><path d="M 1561 2511 L 1586 2511 L 1586 2531 L 1569.12 2531" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 1562.12 2531 L 1569.12 2527.5 L 1569.12 2534.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 2521px; margin-left: 1590px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Garamond; color: #000000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; ">判断是否已经调用 start 函数启动微应用</div></div></div></foreignObject><text x="1590" y="2525" fill="#000000" font-family="Garamond" font-size="12px">[Not supported by viewer]</text></switch></g><path d="M 1561 2571 L 1966 2571 Q 1976 2571 1986 2571 L 2382.88 2571" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 2389.88 2571 L 2382.88 2574.5 L 2382.88 2567.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-end; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2568px; margin-left: 1976px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Garamond; color: #000000; line-height: 1.2; pointer-events: none; white-space: nowrap; ">没有执行过 start 函数时调用 loadApps 函数，根据需要变化的 appsToLoad 微应用信息，执行微应用的加载</div></div></div></foreignObject><text x="1976" y="2568" fill="#000000" font-family="Garamond" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g><rect x="2406" y="2551" width="10" height="90" fill="#ffffff" stroke="#000000" pointer-events="none"/><rect x="96" y="2546" width="10" height="100" fill="#ffffff" stroke="#000000" pointer-events="none"/><rect x="96" y="4601" width="10" height="370" fill="#ffffff" stroke="#000000" pointer-events="none"/><rect x="456" y="4741" width="10" height="140" fill="#ffffff" stroke="#000000" pointer-events="none"/><path d="M 121 4751 L 271 4751 Q 281 4751 291 4751 L 432.88 4751" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 439.88 4751 L 432.88 4754.5 L 432.88 4747.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-end; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 4748px; margin-left: 281px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Garamond; color: #000000; line-height: 1.2; pointer-events: none; white-space: nowrap; ">通过 eval 按顺序执行微应用的脚本</div></div></div></foreignObject><text x="281" y="4748" fill="#000000" font-family="Garamond" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g><path d="M 481 4761 L 506 4761 L 506 4781 L 489.12 4781" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 482.12 4781 L 489.12 4777.5 L 489.12 4784.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 4771px; margin-left: 510px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Garamond; color: #000000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; ">初始化生命周期函数 bootstrap、mount 和 unmount 等</div></div></div></foreignObject><text x="510" y="4775" fill="#000000" font-family="Garamond" font-size="12px">[Not supported by viewer]</text></switch></g><path d="M 481 4841 L 506 4841 L 506 4861 L 489.12 4861" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 482.12 4861 L 489.12 4857.5 L 489.12 4864.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 4851px; margin-left: 510px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Garamond; color: #000000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; ">构建后的运行时代码通过 UMD 导出，<br />代码最后会将初始化生命周期函数挂载到 window 对象的属性上</div></div></div></foreignObject><text x="510" y="4855" fill="#000000" font-family="Garamond" font-size="12px">[Not supported by viewer]</text></switch></g><path d="M 441 4870.17 L 123.24 4870.17" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none"/><path d="M 131.12 4865.67 L 122.12 4870.17 L 131.12 4874.67" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-end; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 4867px; margin-left: 281px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Garamond; color: #000000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; ">返回</div></div></div></foreignObject><text x="281" y="4867" fill="#000000" font-family="Garamond" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g><rect x="481" y="4881" width="460" height="60" rx="24" ry="24" fill="#ffffc0" stroke="none" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 458px; height: 1px; padding-top: 4911px; margin-left: 482px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">这里执行微应用代码和获取 window 属性必须是同步执行<br />如果是异步执行，则无法保证最新添加的 window 属性映射的是微应用生命周期函数<br />因为无法确保其他异步任务执行了 window 对象上属性的赋值操作</div></div></div></foreignObject><text x="711" y="4915" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g><rect x="481" y="4791" width="390" height="40" rx="16" ry="16" fill="#ffffc0" stroke="none" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 388px; height: 1px; padding-top: 4811px; margin-left: 482px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">此时 window 对象上按顺序遍历的最后一个属性用于挂载生命周期函数</div></div></div></foreignObject><text x="676" y="4815" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g><rect x="456" y="6421" width="10" height="110" fill="#ffffff" stroke="#000000" pointer-events="none"/><path d="M 489.12 6441 L 2331 6441 Q 2341 6441 2351 6441 L 4201 6441" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 482.12 6441 L 489.12 6437.5 L 489.12 6444.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-end; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 6438px; margin-left: 2341px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Garamond; color: #000000; line-height: 1.2; pointer-events: none; white-space: nowrap; ">异步执行 bootstrap 函数，传入 customProps 数据</div></div></div></foreignObject><text x="2341" y="6438" fill="#000000" font-family="Garamond" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g><path d="M 4198.76 6511 L 481 6511" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none"/><path d="M 4192.88 6514.5 L 4199.88 6511 L 4192.88 6507.5" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-end; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 6508px; margin-left: 2341px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Garamond; color: #000000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; ">返回 Promise</div></div></div></foreignObject><text x="2341" y="6508" fill="#000000" font-family="Garamond" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g><path d="M 481 6461 L 506 6461 L 506 6481 L 489.12 6481" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 482.12 6481 L 489.12 6477.5 L 489.12 6484.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 6471px; margin-left: 510px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Garamond; color: #000000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; ">接收 customProps 参数<br />执行 bootsrap 函数</div></div></div></foreignObject><text x="510" y="6475" fill="#000000" font-family="Garamond" font-size="12px">[Not supported by viewer]</text></switch></g><path d="M 4241 6581 L 4266 6581 L 4266 6601 L 4249.12 6601" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 4242.12 6601 L 4249.12 6597.5 L 4249.12 6604.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 6591px; margin-left: 4270px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Garamond; color: #000000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; ">等待微应用的 bootsrap 的 Promise 回调执行</div></div></div></foreignObject><text x="4270" y="6595" fill="#000000" font-family="Garamond" font-size="12px">[Not supported by viewer]</text></switch></g><rect x="4479" y="51" width="200" height="40" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><path d="M 4579 91 L 4579 8151" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 198px; height: 1px; padding-top: 71px; margin-left: 4480px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 14px; font-family: Garamond; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">single-spa <br style="font-size: 14px;" />finishUpAndReturn 函数</div></div></div></foreignObject><text x="4579" y="75" fill="#000000" font-family="Garamond" font-size="14px" text-anchor="middle">[Not supported by viewer]</text></switch></g><rect x="4574" y="5137" width="10" height="94" fill="#ffffff" stroke="#000000" pointer-events="none"/><rect x="4574" y="6731" width="10" height="160" fill="#ffffff" stroke="#000000" pointer-events="none"/><rect x="4492.75" y="1" width="172.5" height="40" rx="16" ry="16" fill="#ffffc0" stroke="#ffffff" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 171px; height: 1px; padding-top: 21px; margin-left: 4494px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">执行完成处理</div></div></div></foreignObject><text x="4579" y="25" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g><path d="M 2841 5171 L 3691 5171 Q 3701 5171 3711 5171 L 4552.88 5171" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 4559.88 5171 L 4552.88 5174.5 L 4552.88 5167.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-end; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 5168px; margin-left: 3701px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Garamond; color: #000000; line-height: 1.2; pointer-events: none; white-space: nowrap; ">等待所有的 load 和 mount 执行完毕</div></div></div></foreignObject><text x="3701" y="5168" fill="#000000" font-family="Garamond" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g><path d="M 4601 5191 L 4626 5191 L 4626 5211 L 4609.12 5211" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 4602.12 5211 L 4609.12 5207.5 L 4609.12 5214.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 5201px; margin-left: 4630px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Garamond; color: #000000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; ">等待所有的 load 和 mount 执行完毕<br />准备执行结束逻辑</div></div></div></foreignObject><text x="4630" y="5205" fill="#000000" font-family="Garamond" font-size="12px">[Not supported by viewer]</text></switch></g><path d="M 4601 6751 L 4626 6751 L 4626 6771 L 4609.12 6771" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 4602.12 6771 L 4609.12 6767.5 L 4609.12 6774.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 6761px; margin-left: 4630px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Garamond; color: #000000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; ">所有的 load 和 mount（注意首次激活 mount 为空） 执行完毕<br />发送 single-spa:app-change 事件</div></div></div></foreignObject><text x="4630" y="6765" fill="#000000" font-family="Garamond" font-size="12px">[Not supported by viewer]</text></switch></g><rect x="4341" y="6741" width="220" height="40" rx="16" ry="16" fill="#97d077" stroke="none" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 218px; height: 1px; padding-top: 6761px; margin-left: 4342px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">发送事件<br />single-spa:app-change </div></div></div></foreignObject><text x="4451" y="6765" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g><path d="M 4601 6801 L 4626 6801 L 4626 6821 L 4609.12 6821" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 4602.12 6821 L 4609.12 6817.5 L 4609.12 6824.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 6811px; margin-left: 4630px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Garamond; color: #000000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; ">发送 single-spa:routing-event 事件</div></div></div></foreignObject><text x="4630" y="6815" fill="#000000" font-family="Garamond" font-size="12px">[Not supported by viewer]</text></switch></g><rect x="4341" y="6791" width="220" height="40" rx="16" ry="16" fill="#97d077" stroke="none" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 218px; height: 1px; padding-top: 6811px; margin-left: 4342px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">发送事件<br />single-spa:routing-event </div></div></div></foreignObject><text x="4451" y="6815" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g><path d="M 4601 6851 L 4626 6851 L 4626 6871 L 4609.12 6871" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 4602.12 6871 L 4609.12 6867.5 L 4609.12 6874.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 6861px; margin-left: 4630px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Garamond; color: #000000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; ">重置应用正在变化的标记<br />从而可以继续执行 performAppChanges </div></div></div></foreignObject><text x="4630" y="6865" fill="#000000" font-family="Garamond" font-size="12px">[Not supported by viewer]</text></switch></g><path d="M 4241 6931 L 4266 6931 L 4266 6951 L 4249.12 6951" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 4242.12 6951 L 4249.12 6947.5 L 4249.12 6954.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 6941px; margin-left: 4270px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Garamond; color: #000000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; ">设置 bootstrap 执行结束标记<br />防止执行超时逻辑</div></div></div></foreignObject><text x="4270" y="6945" fill="#000000" font-family="Garamond" font-size="12px">[Not supported by viewer]</text></switch></g><path d="M 4201 6980 L 3623.24 6980" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none"/><path d="M 3631.12 6977 L 3622.12 6980 L 3631.12 6983" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-end; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 6977px; margin-left: 3911px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Garamond; color: #000000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; ">完成 bootstrap 执行</div></div></div></foreignObject><text x="3911" y="6977" fill="#000000" font-family="Garamond" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g><path d="M 3621 7071 L 3646 7071 L 3646 7091 L 3629.12 7091" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 3622.12 7091 L 3629.12 7087.5 L 3629.12 7094.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 7081px; margin-left: 3650px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Garamond; color: #000000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; ">设置应用的状态为 NOT_MOUNTED  </div></div></div></foreignObject><text x="3650" y="7085" fill="#000000" font-family="Garamond" font-size="12px">[Not supported by viewer]</text></switch></g><rect x="3763" y="51" width="200" height="40" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><path d="M 3863 91 L 3863 8154" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 198px; height: 1px; padding-top: 71px; margin-left: 3764px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 14px; font-family: Garamond; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">single-spa <br style="font-size: 14px;" />toMountPromise 函数</div></div></div></foreignObject><text x="3863" y="75" fill="#000000" font-family="Garamond" font-size="14px" text-anchor="middle">[Not supported by viewer]</text></switch></g><rect x="3858" y="7191" width="10" height="380" fill="#ffffff" stroke="#000000" pointer-events="none"/><rect x="3858" y="7851" width="10" height="200" fill="#ffffff" stroke="#000000" pointer-events="none"/><rect x="3776.75" y="1" width="172.5" height="40" rx="16" ry="16" fill="#ffffc0" stroke="#ffffff" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 171px; height: 1px; padding-top: 21px; margin-left: 3778px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">微应用挂载函数</div></div></div></foreignObject><text x="3863" y="25" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g><path d="M 2841 7240 L 3336 7240 Q 3346 7240 3356 7240 L 3842.88 7240" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 3849.88 7240 L 3842.88 7243.5 L 3842.88 7236.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-end; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 7237px; margin-left: 3346px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Garamond; color: #000000; line-height: 1.2; pointer-events: none; white-space: nowrap; ">应用被激活，其它微应用 unmount 完成，则准备执行 toMountPromise</div></div></div></foreignObject><text x="3346" y="7237" fill="#000000" font-family="Garamond" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g><path d="M 3886 7261 L 3911 7261 L 3911 7281 L 3894.12 7281" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 3887.12 7281 L 3894.12 7277.5 L 3894.12 7284.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 7271px; margin-left: 3915px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Garamond; color: #000000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; ">开启微任务，异步执行微应用挂载逻辑<br />等待主应用同步任务执行完毕后再执行，避免阻塞主线程</div></div></div></foreignObject><text x="3915" y="7275" fill="#000000" font-family="Garamond" font-size="12px">[Not supported by viewer]</text></switch></g><path d="M 3881 7371 L 3906 7371 L 3906 7391 L 3889.12 7391" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 3882.12 7391 L 3889.12 7387.5 L 3889.12 7394.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 7381px; margin-left: 3910px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Garamond; color: #000000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; ">如果应用状态不是 NOT_MOUNTE<br />则不执行加载逻辑</div></div></div></foreignObject><text x="3910" y="7385" fill="#000000" font-family="Garamond" font-size="12px">[Not supported by viewer]</text></switch></g><path d="M 3881 7411 L 3906 7411 L 3906 7431 L 3889.12 7431" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 3882.12 7431 L 3889.12 7427.5 L 3889.12 7434.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 7421px; margin-left: 3910px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Garamond; color: #000000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; ">如果是第一次即将执行 mount<br />则发送事件 single-spa:before-first-mount</div></div></div></foreignObject><text x="3910" y="7425" fill="#000000" font-family="Garamond" font-size="12px">[Not supported by viewer]</text></switch></g><rect x="3626" y="7401" width="220" height="40" rx="16" ry="16" fill="#97d077" stroke="none" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 218px; height: 1px; padding-top: 7421px; margin-left: 3627px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">发送事件<br />single-spa:before-first-mount </div></div></div></foreignObject><text x="3736" y="7425" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g><path d="M 3881 7461.33 L 3881 7461.16 Q 3881 7461 3891 7461 L 4192.88 7461" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 4199.88 7461 L 4192.88 7464.5 L 4192.88 7457.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-end; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 7458px; margin-left: 4041px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Garamond; color: #000000; line-height: 1.2; pointer-events: none; white-space: nowrap; ">调用 reasonableTime 执行 mount 函数</div></div></div></foreignObject><text x="4041" y="7458" fill="#000000" font-family="Garamond" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g><rect x="456" y="7581" width="10" height="100" fill="#ffffff" stroke="#000000" pointer-events="none"/><path d="M 489.12 7601.06 L 485.06 7601.03 Q 481 7601 491 7601 L 4191 7601 Q 4201 7601 4201 7601.03 L 4201 7601.06" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 482.12 7601.06 L 489.12 7597.56 L 489.12 7604.56 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-end; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 7598px; margin-left: 2341px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Garamond; color: #000000; line-height: 1.2; pointer-events: none; white-space: nowrap; ">异步执行 mount 函数，传入 customProps 数据</div></div></div></foreignObject><text x="2341" y="7598" fill="#000000" font-family="Garamond" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g><rect x="4216" y="7441" width="10" height="450" fill="#ffffff" stroke="#000000" pointer-events="none"/><path d="M 481 7621 L 506 7621 L 506 7641 L 489.12 7641" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 482.12 7641 L 489.12 7637.5 L 489.12 7644.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 7631px; margin-left: 510px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Garamond; color: #000000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; ">接收 customProps 参数<br />执行 mount 函数</div></div></div></foreignObject><text x="510" y="7635" fill="#000000" font-family="Garamond" font-size="12px">[Not supported by viewer]</text></switch></g><path d="M 4198.76 7659.82 L 481 7659.82" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none"/><path d="M 4192.88 7663.32 L 4199.88 7659.82 L 4192.88 7656.32" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-end; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 7657px; margin-left: 2341px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Garamond; color: #000000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; ">返回 Promise</div></div></div></foreignObject><text x="2341" y="7657" fill="#000000" font-family="Garamond" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g><path d="M 4241 7831 L 4266 7831 L 4266 7851 L 4249.12 7851" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 4242.12 7851 L 4249.12 7847.5 L 4249.12 7854.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 7841px; margin-left: 4270px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Garamond; color: #000000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; ">设置 mount 执行结束标记<br />防止执行超时逻辑</div></div></div></foreignObject><text x="4270" y="7845" fill="#000000" font-family="Garamond" font-size="12px">[Not supported by viewer]</text></switch></g><path d="M 4203 7871 L 3883.24 7871" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none"/><path d="M 3891.12 7868 L 3882.12 7871 L 3891.12 7874" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-end; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 7868px; margin-left: 4042px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Garamond; color: #000000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; ">完成 mount 执行</div></div></div></foreignObject><text x="4042" y="7868" fill="#000000" font-family="Garamond" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g><path d="M 3886 7961 L 3911 7961 L 3911 7981 L 3894.12 7981" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 3887.12 7981 L 3894.12 7977.5 L 3894.12 7984.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 7971px; margin-left: 3915px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Garamond; color: #000000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; ">设置应用的状态为 MOUNTED  </div></div></div></foreignObject><text x="3915" y="7975" fill="#000000" font-family="Garamond" font-size="12px">[Not supported by viewer]</text></switch></g><path d="M 3886 8001 L 3911 8001 L 3911 8021 L 3894.12 8021" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 3887.12 8021 L 3894.12 8017.5 L 3894.12 8024.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 8011px; margin-left: 3915px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Garamond; color: #000000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; ">如果是第一次完成执行 mount<br />则发送事件 single-spa:first-mount</div></div></div></foreignObject><text x="3915" y="8015" fill="#000000" font-family="Garamond" font-size="12px">[Not supported by viewer]</text></switch></g><rect x="3621" y="7991" width="220" height="40" rx="16" ry="16" fill="#97d077" stroke="none" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 218px; height: 1px; padding-top: 8011px; margin-left: 3622px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">发送事件<br />single-spa:first-mount</div></div></div></foreignObject><text x="3731" y="8015" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g><rect x="1200" y="1761" width="300" height="60" rx="24" ry="24" fill="#ffffc0" stroke="#ffffff" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 298px; height: 1px; padding-top: 1791px; margin-left: 1201px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">1、字符串、函数、字符串和函数的数组都统一成数组<br />2、如果是字符串，包装成正则进行匹配<br />3、对当前 URL 的路由进行匹配</div></div></div></foreignObject><text x="1350" y="1795" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g><rect x="2221" y="2111" width="150" height="40" rx="16" ry="16" fill="#99ccff" stroke="#ffffff" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 148px; height: 1px; padding-top: 2131px; margin-left: 2222px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">使用参数 3 activeWhen</div></div></div></foreignObject><text x="2296" y="2135" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g><rect x="1921" y="2211" width="280" height="40" rx="16" ry="16" fill="#ffffc0" stroke="#ffffff" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 278px; height: 1px; padding-top: 2231px; margin-left: 1922px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">接下来是状态机中的状态转换计算<br />任一时刻微应用只能处于一个状态</div></div></div></foreignObject><text x="2061" y="2235" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g><path d="M 1561 2641 L 1711 2641 Q 1721 2641 1731 2641 L 1872.88 2641" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 1879.88 2641 L 1872.88 2644.5 L 1872.88 2637.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-end; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2638px; margin-left: 1721px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Garamond; color: #000000; line-height: 1.2; pointer-events: none; white-space: nowrap; ">再次调用 getAppChanges 函数，判断所有微应用的变化情况</div></div></div></foreignObject><text x="1721" y="2638" fill="#000000" font-family="Garamond" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g><path d="M 1879.75 2711 L 1561.99 2711" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none"/><path d="M 1569.87 2706.5 L 1560.87 2711 L 1569.87 2715.5" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-end; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2708px; margin-left: 1720px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Garamond; color: #000000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; ">返回所有需要变化的微应用信息</div></div></div></foreignObject><text x="1720" y="2708" fill="#000000" font-family="Garamond" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g><path d="M 1921 2661 L 1946 2661 L 1946 2681 L 1929.12 2681" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 1922.12 2681 L 1929.12 2677.5 L 1929.12 2684.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 2671px; margin-left: 1950px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Garamond; color: #000000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; ">执行同样的状态转换计算</div></div></div></foreignObject><text x="1950" y="2675" fill="#000000" font-family="Garamond" font-size="12px">[Not supported by viewer]</text></switch></g><rect x="1624.75" y="2651" width="190" height="30" rx="12" ry="12" fill="#ffffc0" stroke="#ffffff" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 188px; height: 1px; padding-top: 2666px; margin-left: 1626px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">appsToLoad 放入了 vue 微应用</div></div></div></foreignObject><text x="1720" y="2670" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g><path d="M 1561 2781 L 1586 2781 L 1586 2801 L 1569.12 2801" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 1562.12 2801 L 1569.12 2797.5 L 1569.12 2804.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 2791px; margin-left: 1590px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Garamond; color: #000000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; ">已经调用过 start 函数，设置正在变化的标志位，防止重复执行 performAppChanges </div></div></div></foreignObject><text x="1590" y="2795" fill="#000000" font-family="Garamond" font-size="12px">[Not supported by viewer]</text></switch></g><rect x="2841" y="2781" width="220" height="50" rx="20" ry="20" fill="#9999ff" stroke="none" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 218px; height: 1px; padding-top: 2806px; margin-left: 2842px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">加入微任务 3<br />等待异步执行 performAppChanges </div></div></div></foreignObject><text x="2951" y="2810" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g><rect x="2431" y="2991" width="220" height="40" rx="16" ry="16" fill="#9999ff" stroke="#ffffff" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 218px; height: 1px; padding-top: 3011px; margin-left: 2432px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">【注册 React 微应用】 微任务 1 执行<br />异步执行 loadApps</div></div></div></foreignObject><text x="2541" y="3015" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g><rect x="2701" y="2531" width="216.25" height="40" rx="16" ry="16" fill="#9999ff" stroke="#ffffff" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 214px; height: 1px; padding-top: 2551px; margin-left: 2702px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">【注册 Vue 微应用】加入微任务 2<br />等待异步执行 loadApps</div></div></div></foreignObject><text x="2809" y="2555" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g><rect x="2431" y="3091" width="220" height="40" rx="16" ry="16" fill="#9999ff" stroke="#ffffff" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 218px; height: 1px; padding-top: 3111px; margin-left: 2432px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">【注册 Vue 微应用】 微任务 2 执行<br />异步执行 loadApps</div></div></div></foreignObject><text x="2541" y="3115" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g><rect x="3271" y="3121" width="220" height="50" rx="20" ry="20" fill="#9999ff" stroke="none" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 218px; height: 1px; padding-top: 3146px; margin-left: 3272px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">【loadApps】加入微任务 4<br />等待异步执行 toLoadPromise </div></div></div></foreignObject><text x="3381" y="3150" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g><rect x="2431" y="3181" width="250" height="40" rx="16" ry="16" fill="#9999ff" stroke="none" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 248px; height: 1px; padding-top: 3201px; margin-left: 2432px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">【注册 Vue 微应用】 加入 Promise 回调 2<br />等待所有的 toLoadPromise 执行完毕</div></div></div></foreignObject><text x="2556" y="3205" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g><rect x="2841" y="3201" width="220" height="50" rx="20" ry="20" fill="#9999ff" stroke="none" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 218px; height: 1px; padding-top: 3226px; margin-left: 2842px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">微任务 3 执行 <br />异步执行 performAppChanges </div></div></div></foreignObject><text x="2951" y="3230" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g><rect x="3251" y="3561" width="240" height="50" rx="20" ry="20" fill="#9999ff" stroke="none" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 238px; height: 1px; padding-top: 3586px; margin-left: 3252px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">加入 Promise 回调 3<br />等待所有的 unmount 和 unload 执行完毕 </div></div></div></foreignObject><text x="3371" y="3590" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g><rect x="3271" y="3741" width="240" height="50" rx="20" ry="20" fill="#9999ff" stroke="none" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 238px; height: 1px; padding-top: 3766px; margin-left: 3272px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">【performAppChanges】加入微任务 5<br />等待异步执行 toLoadPromise </div></div></div></foreignObject><text x="3391" y="3770" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g><rect x="2431" y="3931" width="250" height="40" rx="16" ry="16" fill="#9999ff" stroke="none" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 248px; height: 1px; padding-top: 3951px; margin-left: 2432px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">【注册 React 微应用】 Promise 回调 1 执行<br />所有的 load 执行完毕</div></div></div></foreignObject><text x="2556" y="3955" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g><rect x="3271" y="3931" width="190" height="50" rx="20" ry="20" fill="#9999ff" stroke="none" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 188px; height: 1px; padding-top: 3956px; margin-left: 3272px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">【loadApps】微任务 4 执行<br />异步执行 toLoadPromise </div></div></div></foreignObject><text x="3366" y="3960" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g><rect x="3272" y="4211" width="190" height="50" rx="20" ry="20" fill="#9999ff" stroke="none" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 188px; height: 1px; padding-top: 4236px; margin-left: 3273px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">加入 Promise 回调 6<br />等待异步执行微应用的加载 </div></div></div></foreignObject><text x="3367" y="4240" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g><rect x="2841" y="4301" width="240" height="50" rx="20" ry="20" fill="#9999ff" stroke="none" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 238px; height: 1px; padding-top: 4326px; margin-left: 2842px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">Promise 回调 3 执行<br />所有的 unmount 和 unload 执行完毕 </div></div></div></foreignObject><text x="2961" y="4330" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g><rect x="3272" y="4356" width="240" height="50" rx="20" ry="20" fill="#9999ff" stroke="none" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 238px; height: 1px; padding-top: 4381px; margin-left: 3273px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">【performAppChanges】微任务 5 执行<br />异步执行 toLoadPromise </div></div></div></foreignObject><text x="3392" y="4385" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g><rect x="3272" y="4472" width="190" height="50" rx="20" ry="20" fill="#9999ff" stroke="none" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 188px; height: 1px; padding-top: 4497px; margin-left: 3273px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">Promise 回调 6 执行<br />异步执行微应用的加载 </div></div></div></foreignObject><text x="3367" y="4501" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g><rect x="2851" y="3871" width="270" height="50" rx="20" ry="20" fill="#9999ff" stroke="none" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 268px; height: 1px; padding-top: 3896px; margin-left: 2852px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">加入 Promise 回调 5<br />再次等待所有的 unmount 和 unload 执行完毕 </div></div></div></foreignObject><text x="2986" y="3900" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g><rect x="2841" y="5041" width="240" height="50" rx="20" ry="20" fill="#9999ff" stroke="none" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 238px; height: 1px; padding-top: 5066px; margin-left: 2842px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">Promise 回调 5 执行<br />所有的 unmount 和 unload 执行完毕 </div></div></div></foreignObject><text x="2961" y="5070" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g><rect x="4601" y="5121" width="240" height="50" rx="20" ry="20" fill="#9999ff" stroke="none" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 238px; height: 1px; padding-top: 5146px; margin-left: 4602px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">加入 Promise 回调 8<br />等待所有的 load 和 mount 执行完毕 </div></div></div></foreignObject><text x="4721" y="5150" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g><rect x="3272" y="5241" width="179" height="50" rx="20" ry="20" fill="#9999ff" stroke="none" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 177px; height: 1px; padding-top: 5266px; margin-left: 3273px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">Promise 回调 7 执行<br /> loadApp 执行完毕</div></div></div></foreignObject><text x="3362" y="5270" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g><rect x="3271" y="5431" width="265" height="40" rx="16" ry="16" fill="#ff9999" stroke="none" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 263px; height: 1px; padding-top: 5451px; margin-left: 3272px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">更改应用状态为 NOT_BOOTSTRAPPED </div></div></div></foreignObject><text x="3404" y="5455" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g><rect x="3061" y="5791" width="240" height="50" rx="20" ry="20" fill="#9999ff" stroke="none" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 238px; height: 1px; padding-top: 5816px; margin-left: 3062px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">Promise 回调 4 执行<br />toLoadPromise 执行完毕</div></div></div></foreignObject><text x="3181" y="5820" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g><rect x="3471" y="51" width="260" height="40" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/><path d="M 3601 91 L 3601 8151" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 258px; height: 1px; padding-top: 71px; margin-left: 3472px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 14px; font-family: Garamond; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">single-spa <br style="font-size: 14px;" />toBootstrapPromise 函数</div></div></div></foreignObject><text x="3601" y="75" fill="#000000" font-family="Garamond" font-size="14px" text-anchor="middle">[Not supported by viewer]</text></switch></g><rect x="3596" y="5781" width="10" height="570" fill="#ffffff" stroke="#000000" pointer-events="none"/><rect x="3596" y="6961" width="10" height="180" fill="#ffffff" stroke="#000000" pointer-events="none"/><rect x="2832.25" y="5921" width="240" height="50" rx="20" ry="20" fill="#9999ff" stroke="none" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 238px; height: 1px; padding-top: 5946px; margin-left: 2833px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">加入 Promise 回调 9<br />等待 toBootstrapPromise 执行完毕</div></div></div></foreignObject><text x="2952" y="5950" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g><rect x="3616" y="5901" width="240" height="50" rx="20" ry="20" fill="#9999ff" stroke="none" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 238px; height: 1px; padding-top: 5926px; margin-left: 3617px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">【performAppChanges】加入微任务 6<br />等待异步执行 toBootstrapPromise </div></div></div></foreignObject><text x="3736" y="5930" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g><rect x="2431" y="5931" width="250" height="40" rx="16" ry="16" fill="#9999ff" stroke="none" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 248px; height: 1px; padding-top: 5951px; margin-left: 2432px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">【注册 Vue 微应用】 Promise 回调 2 执行<br />所有的 load 执行完毕</div></div></div></foreignObject><text x="2556" y="5955" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g><rect x="3621" y="6011" width="240" height="50" rx="20" ry="20" fill="#9999ff" stroke="none" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 238px; height: 1px; padding-top: 6036px; margin-left: 3622px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">【performAppChanges】微任务 6 执行<br />异步执行 toBootstrapPromise </div></div></div></foreignObject><text x="3741" y="6040" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g><rect x="3621" y="6121" width="265" height="40" rx="16" ry="16" fill="#ff9999" stroke="none" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 263px; height: 1px; padding-top: 6141px; margin-left: 3622px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">更改应用状态为 BOOTSTRAPPING </div></div></div></foreignObject><text x="3754" y="6145" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g><rect x="3621" y="6241" width="179" height="50" rx="20" ry="20" fill="#9999ff" stroke="none" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 177px; height: 1px; padding-top: 6266px; margin-left: 3622px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">加入 Promise 回调 10<br />等待 reasonableTime 执行完毕</div></div></div></foreignObject><text x="3711" y="6270" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g><path d="M 3621 6311 L 3646 6311 L 3646 6331 L 3629.12 6331" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 3622.12 6331 L 3629.12 6327.5 L 3629.12 6334.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 6321px; margin-left: 3650px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Garamond; color: #000000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; ">等待异步的 reasonableTime 执行完毕</div></div></div></foreignObject><text x="3650" y="6325" fill="#000000" font-family="Garamond" font-size="12px">[Not supported by viewer]</text></switch></g><path d="M 4241 6241 L 4266 6241 L 4266 6261 L 4249.12 6261" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 4242.12 6261 L 4249.12 6257.5 L 4249.12 6264.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 6251px; margin-left: 4270px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Garamond; color: #000000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; ">设置执行结束的标志<br />设置错误标记</div></div></div></foreignObject><text x="4270" y="6255" fill="#000000" font-family="Garamond" font-size="12px">[Not supported by viewer]</text></switch></g><rect x="4521" y="6301" width="150" height="49" rx="19.6" ry="19.6" fill="#99ccff" stroke="none" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 148px; height: 1px; padding-top: 6326px; margin-left: 4522px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">使用参数 4 customProps</div></div></div></foreignObject><text x="4596" y="6329" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g><rect x="4241" y="6301" width="260" height="49" rx="19.6" ry="19.6" fill="#ff99ff" stroke="none" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 258px; height: 1px; padding-top: 6326px; margin-left: 4242px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">真正开始执行 Vue 微应用的 bootstrap 函数</div></div></div></foreignObject><text x="4371" y="6329" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g><rect x="4241" y="6511" width="200" height="50" rx="20" ry="20" fill="#9999ff" stroke="none" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 198px; height: 1px; padding-top: 6536px; margin-left: 4242px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">加入 Promise 回调 11<br />等待微应用的  bootstrap 执行完毕</div></div></div></foreignObject><text x="4341" y="6540" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g><rect x="4601" y="6671" width="240" height="50" rx="20" ry="20" fill="#9999ff" stroke="none" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 238px; height: 1px; padding-top: 6696px; margin-left: 4602px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">Promise 回调 8 执行<br />所有的 load 和 mount 执行完毕 </div></div></div></foreignObject><text x="4721" y="6700" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g><rect x="4241" y="6861" width="200" height="50" rx="20" ry="20" fill="#9999ff" stroke="none" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 198px; height: 1px; padding-top: 6886px; margin-left: 4242px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">Promise 回调 11 执行<br />微应用的 bootstrap 执行完毕</div></div></div></foreignObject><text x="4341" y="6890" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g><rect x="3621" y="7001" width="179" height="50" rx="20" ry="20" fill="#9999ff" stroke="none" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 177px; height: 1px; padding-top: 7026px; margin-left: 3622px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">Promise 回调 10 执行<br />reasonableTime 执行完毕</div></div></div></foreignObject><text x="3711" y="7030" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g><rect x="3821" y="7001" width="210" height="50" rx="20" ry="20" fill="#ff9999" stroke="none" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 208px; height: 1px; padding-top: 7026px; margin-left: 3822px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">更改应用状态为 NOT_MOUNTED </div></div></div></foreignObject><text x="3926" y="7030" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g><rect x="2841" y="7121" width="240" height="50" rx="20" ry="20" fill="#9999ff" stroke="none" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 238px; height: 1px; padding-top: 7146px; margin-left: 2842px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">Promise 回调 9 执行<br />toBootstrapPromise 执行完毕</div></div></div></foreignObject><text x="2961" y="7150" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g><path d="M 3581 7111 L 2843.24 7111" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none"/><path d="M 2851.12 7108 L 2842.12 7111 L 2851.12 7114" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-end; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 7108px; margin-left: 3211px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Garamond; color: #000000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; ">完成 toBootstrapPromise 执行</div></div></div></foreignObject><text x="3211" y="7108" fill="#000000" font-family="Garamond" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g><path d="M 3229.75 5771 L 2834.49 5771" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none"/><path d="M 2842.37 5768 L 2833.37 5771 L 2842.37 5774" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-end; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 5768px; margin-left: 3031px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Garamond; color: #000000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; ">完成 toLoadPromise 执行</div></div></div></foreignObject><text x="3031" y="5768" fill="#000000" font-family="Garamond" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g><path d="M 3231 5741 L 2433.24 5741" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none"/><path d="M 2441.12 5738 L 2432.12 5741 L 2441.12 5744" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-end; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 5738px; margin-left: 2831px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Garamond; color: #000000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; ">完成 toLoadPromise 执行</div></div></div></foreignObject><text x="2831" y="5738" fill="#000000" font-family="Garamond" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g><rect x="3097.25" y="7121" width="240" height="50" rx="20" ry="20" fill="#9999ff" stroke="none" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 238px; height: 1px; padding-top: 7146px; margin-left: 3098px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">加入 Promise 回调 12<br />等待所有的 unmount 执行完毕</div></div></div></foreignObject><text x="3217" y="7150" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g><rect x="3881" y="7191" width="240" height="50" rx="20" ry="20" fill="#9999ff" stroke="none" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 238px; height: 1px; padding-top: 7216px; margin-left: 3882px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">【performAppChanges】加入微任务 7<br />等待异步执行 toMountPromise </div></div></div></foreignObject><text x="4001" y="7220" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g><rect x="3881" y="7301" width="240" height="50" rx="20" ry="20" fill="#9999ff" stroke="none" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 238px; height: 1px; padding-top: 7326px; margin-left: 3882px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">【performAppChanges】微任务 7 执行<br />异步执行 toMountPromise </div></div></div></foreignObject><text x="4001" y="7330" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g><rect x="3881" y="7471" width="179" height="50" rx="20" ry="20" fill="#9999ff" stroke="none" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 177px; height: 1px; padding-top: 7496px; margin-left: 3882px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">加入 Promise 回调 13<br />等待 reasonableTime 执行完毕</div></div></div></foreignObject><text x="3971" y="7500" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g><rect x="3386" y="7161" width="240" height="50" rx="20" ry="20" fill="#9999ff" stroke="none" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 238px; height: 1px; padding-top: 7186px; margin-left: 3387px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">Promise 回调 12 执行<br />所有的 unmount 执行完毕</div></div></div></foreignObject><text x="3506" y="7190" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g><path d="M 3881 7541 L 3906 7541 L 3906 7561 L 3889.12 7561" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 3882.12 7561 L 3889.12 7557.5 L 3889.12 7564.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 7551px; margin-left: 3910px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Garamond; color: #000000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; ">等待异步的 reasonableTime 执行完毕</div></div></div></foreignObject><text x="3910" y="7555" fill="#000000" font-family="Garamond" font-size="12px">[Not supported by viewer]</text></switch></g><path d="M 4241 7471 L 4266 7471 L 4266 7491 L 4249.12 7491" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 4242.12 7491 L 4249.12 7487.5 L 4249.12 7494.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 7481px; margin-left: 4270px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Garamond; color: #000000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; ">设置执行结束的标志<br />设置错误标记</div></div></div></foreignObject><text x="4270" y="7485" fill="#000000" font-family="Garamond" font-size="12px">[Not supported by viewer]</text></switch></g><rect x="4515.25" y="7511" width="150" height="49" rx="19.6" ry="19.6" fill="#99ccff" stroke="none" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 148px; height: 1px; padding-top: 7536px; margin-left: 4516px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">使用参数 4 customProps</div></div></div></foreignObject><text x="4590" y="7539" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g><rect x="4241" y="7511" width="260" height="49" rx="19.6" ry="19.6" fill="#ff99ff" stroke="none" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 258px; height: 1px; padding-top: 7536px; margin-left: 4242px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">真正开始执行 Vue 微应用的 mount 函数</div></div></div></foreignObject><text x="4371" y="7539" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g><path d="M 4241 7570 L 4266 7570 L 4266 7590 L 4249.12 7590" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 4242.12 7590 L 4249.12 7586.5 L 4249.12 7593.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 7580px; margin-left: 4270px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Garamond; color: #000000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; ">获取注册应用时提供的参数 4 customProps<br />执行微应用的 mount 函数</div></div></div></foreignObject><text x="4270" y="7584" fill="#000000" font-family="Garamond" font-size="12px">[Not supported by viewer]</text></switch></g><path d="M 4241 7721 L 4266 7721 L 4266 7741 L 4249.12 7741" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 4242.12 7741 L 4249.12 7737.5 L 4249.12 7744.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 7731px; margin-left: 4270px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Garamond; color: #000000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; ">设置 mount 函数运行的超时时间</div></div></div></foreignObject><text x="4270" y="7735" fill="#000000" font-family="Garamond" font-size="12px">[Not supported by viewer]</text></switch></g><path d="M 4241 7681 L 4266 7681 L 4266 7701 L 4249.12 7701" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 4242.12 7701 L 4249.12 7697.5 L 4249.12 7704.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 7691px; margin-left: 4270px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Garamond; color: #000000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; ">等待微应用 mount 的 Promise 回调执行</div></div></div></foreignObject><text x="4270" y="7695" fill="#000000" font-family="Garamond" font-size="12px">[Not supported by viewer]</text></switch></g><rect x="4241" y="7611" width="200" height="50" rx="20" ry="20" fill="#9999ff" stroke="none" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 198px; height: 1px; padding-top: 7636px; margin-left: 4242px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">加入 Promise 回调 14<br />等待微应用的  mount 执行完毕</div></div></div></foreignObject><text x="4341" y="7640" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g><rect x="4241" y="7761" width="200" height="50" rx="20" ry="20" fill="#9999ff" stroke="none" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 198px; height: 1px; padding-top: 7786px; margin-left: 4242px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">Promise 回调 14 执行<br />微应用的 mount 执行完毕</div></div></div></foreignObject><text x="4341" y="7790" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g><rect x="3881" y="7891" width="179" height="50" rx="20" ry="20" fill="#9999ff" stroke="none" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 177px; height: 1px; padding-top: 7916px; margin-left: 3882px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">Promise 回调 13 执行<br />reasonableTime 执行完毕</div></div></div></foreignObject><text x="3971" y="7920" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g><rect x="4071" y="7891" width="210" height="50" rx="20" ry="20" fill="#ff9999" stroke="none" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 208px; height: 1px; padding-top: 7916px; margin-left: 4072px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">更改应用状态为 MOUNTED </div></div></div></foreignObject><text x="4176" y="7920" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g><rect x="3481" y="3931" width="170" height="50" rx="20" ry="20" fill="#ffffc0" stroke="none" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 168px; height: 1px; padding-top: 3956px; margin-left: 3482px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">准备开始加载 Vue 微应用</div></div></div></foreignObject><text x="3566" y="3960" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g><rect x="4241" y="6171" width="330" height="50" rx="20" ry="20" fill="#ffffc0" stroke="none" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 328px; height: 1px; padding-top: 6196px; margin-left: 4242px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">所有生命周期函数的执行都会判定执行的超时时间</div></div></div></foreignObject><text x="4406" y="6200" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g><rect x="4241" y="7401" width="330" height="50" rx="20" ry="20" fill="#ffffc0" stroke="none" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 328px; height: 1px; padding-top: 7426px; margin-left: 4242px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">所有生命周期函数的执行都会判定执行的超时时间</div></div></div></foreignObject><text x="4406" y="7430" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g><rect x="3641" y="7161" width="180" height="50" rx="20" ry="20" fill="#ffffc0" stroke="none" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 178px; height: 1px; padding-top: 7186px; margin-left: 3642px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">mount 的执行会等待所有的 unmount 执行完毕 </div></div></div></foreignObject><text x="3731" y="7190" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g></g></svg>