# 20.æœåŠ¡ç«¯å®æˆ˜ï¼šç”¨æˆ·æœåŠ¡å¼€å‘ï¼ˆä¸Šï¼‰

åœ¨è¿›è¡Œäº†ä¸€ç³»åˆ—æœåŠ¡ç«¯çš„åŸºç¡€è®­ç»ƒä¹‹åï¼Œæœ¬ç« å°†è¿æ¥ç¬¬ä¸€ä¸ªæœåŠ¡ç«¯å®æˆ˜é¡¹ç›®ï¼šç”¨æˆ·ç³»ç»Ÿã€‚

æˆ‘ä»¬å°†å®Œå…¨æŒ‰ç…§ä¹‹å‰çš„è¡¨ç»“æ„æ¥å¼€å‘ç”¨æˆ·ç³»ç»Ÿï¼Œä¸ºäº†æ–¹ä¾¿å„ä½æ“ä½œï¼Œç”¨æˆ·çš„ä¸‰æ–¹ç™»å½•å°†ä»¥ **Github** æˆæƒæ¥ä½œä¸ºæ¼”ç¤ºã€‚

æœ¬ç«  demo å·¥ç¨‹ï¼š
- **æœåŠ¡ç«¯ï¼šhttps://github.com/Ignition-Space/Ignition main åˆ†æ”¯**
- **å®¢æˆ·ç«¯ï¼šhttps://github.com/Ignition-Space/Ignition-web next åˆ†æ”¯**


## å‡†å¤‡å·¥ä½œ

#### é…ç½®æµ‹è¯•åŸŸå

1. **ä¿®æ”¹æœ¬åœ° **host** æ–‡ä»¶çš„ **DNS** è§£æ**

```shell
127.0.0.1 wwww.ig-space.com
127.0.0.1 api.ig-space.com
```

![image.png](./images/e067440191e4dfc148ea4537d533a41c.png )

å…¶ä¸­ `wwww.ig-space.com` ä½œä¸ºå®¢æˆ·ç«¯çš„åŸŸåï¼Œ`api.ig-space.com` ä½œä¸ºæœåŠ¡ç«¯çš„åŸŸåã€‚

2. **ä½¿ç”¨ **nginx** é…ç½®å¯¹åº”æœåŠ¡çš„æ–¹å‘ä»£ç†ï¼Œç„¶åå¯åŠ¨æˆ–è€…é‡å¯ **nginx** æœåŠ¡**

```shell
server {
    listen 80;
    server_name www.ig-space.com;
    location / {
    proxy_pass   http://127.0.0.1:10010/;
    }
}

server {
    listen 80;
    server_name api.ig-space.com;
    location / {
    proxy_pass   http://127.0.0.1:4000/;
    }
}
```

![image.png](./images/18f28c527a138653bc0bb73503bdc7f9.png )

å¦‚ä¸‹èƒ½é€šè¿‡åŸŸåæ­£å¸¸è®¿é—®å¯¹åº”çš„å‰åç«¯é¡¹ç›®å³å¯ã€‚

> ç”±äºåç»­çš„æ“ä½œéœ€è¦é…ç½®æœ¬åœ°æµ‹è¯•åŸŸåæ‰èƒ½è¿›è¡Œï¼Œå½“ç„¶ä½ ä¹Ÿå¯ä»¥ç›´æ¥ç”³è¯·ä¸€ä¸ªå…¬ç½‘ç¯å¢ƒçš„åŸŸåæ¥åšæµ‹è¯•ï¼Œä½†ä¸ºäº†èŠ‚çº¦èµ„æºå‡å°‘ä¸å¿…è¦çš„æµªè´¹ï¼Œæˆ‘ä¾ç„¶å»ºè®®ä½ ä½¿ç”¨æœ¬åœ°åŸŸåæ¥æµ‹è¯•ã€‚


#### é…ç½® Github æˆæƒ

æ•´ä¸ª **Github** çš„æˆæƒè¿‡ç¨‹ï¼Œå¯ä»¥å…¨ç¨‹å‚è€ƒä¸‹è¿°æˆªå›¾æ­¥éª¤ï¼Œä¸­é—´æ­¥éª¤å°±ä¸å†ä¸€ä¸€æè¿°ï¼Œè·Ÿç€åšå°±è¡Œã€‚

![image.png](./images/92d01a7caf6f2a9ca01b81dc9cbcc08a.png )


![image.png](./images/07c998bc373192871262dac88f7bbdbf.png )


![image.png](./images/e99fd10be02406029cc75147405a5c04.png )


![image.png](./images/b5ee0b789c1d1177bfac86129126bb81.png )


![image.png](./images/c14da48a17a1d75e8423f9917ef52873.png )


![1693737009589.jpg](./images/d546b8420b30e37da797508e1696917a.png )

æœ€åè·å–åˆ° **Client ID** & **Client secrets**ï¼Œæ³¨æ„è¿™ä¸¤ä¸ªç©æ„è¯·ä¸è¦æ³„å¯†ï¼Œä¸ç„¶å®¹æ˜“è¢«äººç›—ç”¨ã€‚

**åŒæ—¶è¦æ³¨æ„ secrets åªæœ‰å†ç”Ÿæˆçš„æ—¶å€™æ‰èƒ½æ‹¿åˆ°ï¼Œä¸€å®šè¦ä¿å­˜å¥½å› ä¸ºå…³é—­é¡µé¢ä¹‹åæ˜¯æ— æ³•å†æ¬¡æ‰¾å›ã€‚**

## ç”¨æˆ·æˆæƒç™»å½•

![image.png](./images/0efe3d719255634643a2e7e332756b74.png )

ç”±äºæˆ‘ä»¬çš„æœåŠ¡ç«¯æœ‰ **api** å‰ç¼€ï¼Œæ‰€ä»¥éœ€è¦ä¿®æ”¹ä¸€ä¸‹å›è°ƒæ¥å£ï¼Œå¦‚æœä¸æƒ³è¦ `/api` å‰ç¼€ï¼Œå¯ä»¥åœ¨ **nginx** ä¸­ä»£ç†ã€‚

ç„¶åæˆ‘ä»¬æ¥æ‹¼æ¥ä¸€ä¸‹ **Github** çš„æˆæƒåœ°å€ï¼š

https://github.com/login/oauth/authorize?client_id=07aac5b0e0a0dc5dfdcb&redirect_uri=http%3A%2F%2Fapi.ig-space.com%2Fapi%2Fauth

æ­£ç¡®åœ¨æµè§ˆå™¨ä¸­è¾“å…¥ä»¥ä¸Šåœ°å€ä¼šå¾—åˆ°ä¸‹å›¾æ‰€ç¤ºçš„ **Github** æˆæƒç•Œé¢ï¼Œæ³¨æ„å‚æ•°è®°å¾— `URLEncode`ã€‚

> çœŸå®æœåŠ¡ä¸­ä¾ç„¶ä¸å»ºè®®ä½ ä»¬å°† `client_id` ç›´æ¥å†™åœ¨å®¢æˆ·ç«¯ï¼Œå¯ä»¥å†™ä¸ªè¯·æ±‚æ¥å£ä»åç«¯è·å–ï¼Œè¿™é‡Œåªæ˜¯ä¸ºäº†ä¾¿äºæ¼”ç¤ºï¼Œæ‰€ä»¥æˆ‘å°†æµ‹è¯•çš„ `client_id` æ”¾å‡ºæ¥ï¼Œæ–¹ä¾¿å¯¹ç…§æµ‹è¯•ï¼Œæ‰€ä»¥è¯·ä¸è¦ä¹±ç©ã€‚

![image.png](./images/f5b6424a8584fe003ae1eda6cb74157b.png )

ç‚¹å‡»é¦–é€‰ä¹‹åï¼Œç³»ç»Ÿä¼šé‡å®šå‘åˆ° http://api.ig-space.com/auth?code=11c0d5fafb7a8774c07e ï¼Œå¹¶æºå¸¦ä¸€ä¸ªå¯¹åº”çš„æˆæƒ **code**ã€‚

![image.png](./images/a4ed068fdac0246219715bee354e2cd4.png )

å½“ç„¶æˆ‘ç°åœ¨è¿˜æ²¡æœ‰å†™å¯¹åº”çš„ **auth** æˆæƒæµç¨‹è‚¯å®šä¼šæŠ¥é”™äº†ï¼Œå¦‚æœä½ æ‰“ç®—è‡ªå·±å†™çš„è¯ï¼Œé‚£ä¹ˆå¯ä»¥æŒ‰ç…§ä¸‹è¿°æµç¨‹å¹¶å‚è€ƒå·¥ç¨‹é¡¹ç›®æ¥å¼€å‘ã€‚

#### Github æˆæƒ

1. åœ¨ `lib/commm/helper/github/auth.ts` ä¸­æ·»åŠ æ–°çš„æ¢å–ç”¨æˆ·å‡­è¯æ–¹æ³•ï¼š

```ts

import { BASE_API_GITHUB_URL, BASE_GITHUB_URL, GITHUB_ID, GITHUB_SECRET } from './const';

import { methodV } from '../../utils/request';

/**
 * @description: è·å–ç”¨æˆ· token
 */
export const getGithubToken = async ({ code }) => {
  const { data } = await methodV({
    baseUrl: BASE_GITHUB_URL,
    url: `login/oauth/access_token`,
    method: 'POST',
    params: {
      client_id: GITHUB_ID,
      client_secret: GITHUB_SECRET,
      code,
    },
  });
  console.log('github===>', data)
  return data;
};

/**
 * @description: è·å– Github ç”¨æˆ·
 */
export const getGithubUser = async ({ token }) => {
  const { data } = await methodV({
    baseUrl: BASE_API_GITHUB_URL,
    url: `user`,
    method: 'GET',
    headers: {
      Authorization: `token ${token}`,
    },
  });
  console.log(data)
  return data;
};
```

å…¶ä¸­ `GITHUB_ID` & `GITHUB_SECRET` éœ€è¦å† `.config/.dev.yaml` é‡Œé¢é…ç½®:

```
GITGUB_CONFIG:
  CLIENT_ID: 07aac5b0e0a0dc5dfdcb // è¿™æ˜¯çš„ä½œè€… CLIENT_IDï¼Œè¯·ä¸è¦éšä¾¿ä¹±ç©ï¼Œè¦ç©ç©è‡ªå·±çš„
  CLIENT_SECRETS: è¯·ä¸è¦å†™é”™ï¼Œä½¿ç”¨ä¸Šæ–‡ç”Ÿæˆçš„ SECRETS
```

ç»Ÿä¸€çš„é…ç½®æ–‡ä»¶ï¼Œæˆ‘æ¯”è¾ƒå–œæ¬¢ç”¨ `lib/commm/helper/github/const.ts` æ¥æ‰¿æ¥ï¼š

```ts
import { getConfig } from "../../utils";

const { GITGUB_CONFIG } = getConfig()

export const GITHUB_ID = GITGUB_CONFIG.CLIENT_ID
export const GITHUB_SECRET = GITGUB_CONFIG.CLIENT_SECRETS
export const BASE_GITHUB_URL = "https://github.com/"
export const BASE_API_GITHUB_URL = "https://api.github.com/"
```

2. åœ¨ `src/user/oauth.service.ts` ä¸­æ·»åŠ æ–°çš„æ¢å–ç”¨æˆ·å‡­è¯çš„ `Service`ï¼š

```ts
import { Injectable, } from '@nestjs/common';
import { BusinessException, getGithubUser, } from '@app/common';
import { getGithubToken } from '@app/common';
import * as querystring from 'querystring'

@Injectable()
export class OAuthService {

  async getUserToken(code: string) {
    const res: any = await getGithubToken({ code });
    const params = querystring.parse(res)
    console.log('params===>?', params.access_token)
    return this.getOathUser(params.access_token as string);
  }

  async getOathUser(token: string) {
    return getGithubUser({ token })
  }
}

```

3. åœ¨ `src/auth/auth.controller.ts` ä¸­æ·»åŠ æ¢å– **Github** ç”¨æˆ·ä¿¡æ¯çš„ `Controller`ï¼š

```
  @ApiOperation({
    summary: 'OAUTH æˆæƒ',
  })
  @Public()
  @Get('/')
  async OAuth(@Query("code") code) {
    console.log('code===>', code)
    return this.authService.validateFeishuUser(code);
  }
```

4. æ·»åŠ  `src/auth/auth.service.ts` è·å– **Github** çš„ä¿¡æ¯ï¼Œå¹¶åœ¨æ•°æ®åº“ä¸­è½åº“ï¼š
```ts
import { Injectable } from '@nestjs/common';

import { JwtService } from '@nestjs/jwt';
import { GithubUserInfo } from '../userCenter/user/user.dto';
import { User } from '../userCenter/user/user.mysql.entity';
import { UserService } from '../userCenter/user/user.service';
import { OAuthService } from '../userCenter/user/oauth.service';

@Injectable()
export class AuthService {
  constructor(
    private jwtService: JwtService,
    private userService: UserService,
    private oAuthService: OAuthService,
  ) { }

  async validateFeishuUser(code: string): Promise<Payload> {

    const userInfo: GithubUserInfo = await this.getOAuthTokenByApplications(code);

    // åŒæ­¥ä¿¡æ¯
    const user: User = await this.userService.createOrUpdateByOAoth(
      userInfo,
    );

    return {
      userId: user.id,
      username: user.username,
      name: user.name,
      email: user.email,
    };
  }

  async getOAuthTokenByApplications(code: string) {

    const oauth = await this.oAuthService.getUserToken(code);
    return oauth;
  }
}
```

æ­¤æ—¶åœ¨é‡æ–°ç‚¹å‡»ä¹‹å‰çš„æˆæƒé“¾æ¥å¯ä»¥å¾—åˆ°æ­£ç¡®çš„è¿”å›ä¿¡æ¯ï¼š

![image.png](./images/a045778c551e899ee815bf3d2df2aa72.png )

å¹¶ä¸”ç”¨æˆ·æ•°æ®å·²ç»æ­£ç¡®è½åº“ï¼š

![image.png](./images/12a69971fe1949c03a4adc0cbbdb3817.png )

> æ­¤æ—¶æˆ‘ä»¬å·²ç»æ‹¿åˆ°äº† **Github** çš„ `access_token`ï¼Œå¯ä»¥ä½¿ç”¨ `access_token` è°ƒç”¨ **Github** çš„ **open api**ï¼Œå¦‚æœæœ‰éœ€æ±‚çš„å¯ä»¥è‡ªè¡Œä¿å­˜ä¸€ä¸‹ï¼Œä½†å¯¹äºæˆ‘ä»¬çš„é¡¹ç›®æ¥è¯´ä»…ä»…åªæ˜¯ä¸ºäº†å‡å°‘é‰´æƒè¿™ä¸€æ­¥æ‰€ä»¥å­˜ä¸‹æ¥çš„ä»·å€¼ä¸å¤§ã€‚

#### jwt 

**token** çš„æ–¹æ¡ˆæœ‰å¾ˆå¤šç§ï¼Œæˆ‘ä»¬é€‰æ‹©è¾ƒä¸ºé€šç”¨çš„ **jwt** æ¥åšä¸ºé¡¹ç›®çš„ **token** æ–¹æ¡ˆã€‚

1. **å®‰è£…å¯¹åº”çš„ä¾èµ–**

``` shell
npm install @nestjs/passport passport
```

2. **æ–°å»º `/src/auth/strategies` ç›®å½•ï¼Œæ·»åŠ  `oauth.strategy.ts` ä¸ `jwt-auth.strategy.ts` ä¸¤ä¸ªæ–‡ä»¶**ï¼š

```ts
// oauth.strategy.ts

import { PassportStrategy } from '@nestjs/passport';
import { Injectable, Query, UnauthorizedException } from '@nestjs/common';
import { AuthService } from '../auth.service';
import { Strategy } from 'passport-custom';

@Injectable()
export class OAuthStrategy extends PassportStrategy(Strategy, 'oauth') {
  constructor(private authService: AuthService) {
    super();
  }

  async validate(req): Promise<Payload> {
    const q: any = req.query;

    const user = await this.authService.validateFeishuUser(q.code as string);

    if (!user) {
      throw new UnauthorizedException();
    }
    return user;
  }
}
```

```ts
// jwt-auth.strategy.ts
import { Injectable } from '@nestjs/common';
import { PassportStrategy } from '@nestjs/passport';
import { Strategy } from 'passport-jwt';
import { jwtConstants } from '../constants';

const cookieExtractor = function (req) {
  let token = null;
  if (req && req.cookies) {
    token = req.cookies['jwt'];
  }
  return token;
};

@Injectable()
export class JwtStrategy extends PassportStrategy(Strategy) {
  constructor() {
    super({
      jwtFromRequest: cookieExtractor,
      ignoreExpiration: jwtConstants.ignoreExpiration,
      secretOrKey: jwtConstants.secret,
    });
  }

  async validate(payload: Payload): Promise<Payload> {
    return { ...payload };
  }
}

```

`OAuthStrategy` æ ¹æ® `passport` æä¾›çš„æ–¹æ³•ï¼Œè°ƒç”¨ `authService` ä¸­çš„ `validateFeishuUser` æ–¹æ³•ï¼Œä» Github è·å–å¯¹åº”çš„ç”¨æˆ·ä¿¡æ¯ã€‚

`JwtStrategy` åˆ™æ˜¯ä½¿ç”¨ `passport-jwt`æ‹“å±•çš„åŠŸèƒ½ï¼Œå¯¹ `cookie` åšäº†æ‹¦æˆªã€è§£å¯†ç­‰åŠŸèƒ½ã€‚

> æ³¨æ„æ— è®ºæ˜¯ä½¿ç”¨ `passport` è‡ªå¸¦çš„ä¸‰æ–¹åŠŸèƒ½æˆ–è€…è‡ªè¡Œæ‹“å±• `passport`ï¼Œéƒ½éœ€è¦å¯¹ `validate` æ–¹æ³•è¿›è¡Œé‡å†™ä»¥ä¾¿å®ç°è‡ªå·±çš„ä¸šåŠ¡é€»è¾‘ã€‚

3. **æ–°å»º `/src/auth/guards` ç›®å½•ï¼Œæ·»åŠ  `oauth.guard.ts` ä¸ `jwt-auth.guard.ts` ä¸¤ä¸ªæ–‡ä»¶**ï¼š

```ts
// oauth.guard.ts
import { Injectable } from '@nestjs/common';
import { AuthGuard } from '@nestjs/passport';

@Injectable()
export class OAuthGuard extends AuthGuard('oauth') { }
```

è¿™é‡Œè¦**æ³¨æ„**ï¼Œå› ä¸º `OAuthGuard` å·²ç»ç»§æ‰¿äº†é€šç”¨çš„ `AuthGuard`ï¼ŒéªŒè¯é€»è¾‘åœ¨ `OAuthStrategy` å®ç°äº†ï¼Œæ‰€ä»¥å¹¶æ²¡æœ‰é¢å¤–çš„ä»£ç å‡ºç°ï¼Œå¦‚æœæœ‰å…¶ä»–çš„é€»è¾‘åˆ™éœ€è¦å¯¹ä¸åŒçš„æ–¹æ³•è¿›è¡Œé‡å†™å·²å®Œæˆéœ€æ±‚ã€‚

```ts
// jwt-auth.guard.ts
import { ExecutionContext, Injectable } from '@nestjs/common';
import { Reflector } from '@nestjs/core';
import { AuthGuard } from '@nestjs/passport';
import { BUSINESS_ERROR_CODE, BusinessException } from '@app/common';
import { IS_PUBLIC_KEY } from '../constants';

@Injectable()
export class JwtAuthGuard extends AuthGuard('jwt') {
  constructor(private reflector: Reflector) {
    super();
  }

  canActivate(context: ExecutionContext) {
    const loginAuth = this.reflector.getAllAndOverride<boolean>(IS_PUBLIC_KEY, [
      context.getHandler(),
      context.getClass(),
    ]);

    if (loginAuth) {
      return true;
    }

    return super.canActivate(context);
  }

  handleRequest(err, user, info) {
    if (err || !user) {
      throw (
        err ||
        new BusinessException({
          code: BUSINESS_ERROR_CODE.TOKEN_INVALID,
          message: 'token å·²å¤±æ•ˆ',
        })
      );
    }
    return user;
  }
}
```

`JwtAuthGuard` æ¨¡å—å®ç°äº† `canActivate` ä¸ `handleRequest` çš„é‡å†™ï¼Œåˆ†åˆ«æ˜¯é’ˆå¯¹äºè‡ªå®šä¹‰é€»è¾‘ä¸å¼‚å¸¸æ•è·çš„å¤„ç†ã€‚

å› ä¸ºæˆ‘ä»¬ä½¿ç”¨äº† `JwtAuthGuard` ä½œä¸ºå…¨å±€éªŒè¯ï¼Œä½†æœ‰çš„æ—¶å€™ä¹Ÿæ˜¯éœ€è¦é’ˆå¯¹äºéƒ¨åˆ†æ¥å£å¼€å¯ç™½åå•ã€‚ä¾‹å¦‚ï¼Œç™»å½•æ¥å£å°±éœ€è¦å¼€å¯ç™½åå•ï¼Œæ¯•ç«ŸæŠŠç™»å½•æ¥å£ä¹Ÿæ‹¦æˆªäº†ï¼Œæ•´ä¸ªé¡¹ç›®å°±æ— æ³•æ­£å¸¸ä½¿ç”¨äº†ã€‚

4. é‡å†™ä¹‹å‰ **OAUTH** æˆæƒæ–¹æ³•ï¼š

```ts
  @ApiOperation({
    summary: 'OAUTH æˆæƒ',
  })
  @Public()
  @UseGuards(OAuthGuard)
  @Get('/')
  async OAuth(@PayloadUser() user: Payload, @Res({ passthrough: true }) response) {
    const { access_token } = await this.authService.login(user);

    response.cookie('jwt', access_token, {
      path: '/',
      httpOnly: true,
      domain: '.ig-space.com'
    });
    
    return access_token
  }
```

5. `AuthService` æ·»åŠ  `jwt` æ³¨å†Œç”¨æˆ·çš„æ–¹æ³•

```ts
  async login(user: Payload) {
    return {
      access_token: this.jwtService.sign(user),
    };
  }
```

ç„¶ååœ¨é‡æ–°è¯·æ±‚ä¹‹å‰çš„æˆæƒè·¯å¾„ï¼Œå¯ä»¥å‘ç°æˆ‘ä»¬å¯ä»¥å°† **jwt** ç”Ÿæˆçš„ `cookie` ç§åœ¨äº† .ig-space.com äºŒçº§åŸŸåä¸‹ï¼Œè¿™æ ·åœ¨ www.ig-space.com ä¹Ÿå¯ä»¥ä» `cookie` æ‹¿åˆ°å¯¹åº”çš„ `token` å®ç°äº†ç™»å½•æµç¨‹ï¼Œæœ€ååªéœ€è¦æ·»åŠ é‡å®šå‘çš„åŠŸèƒ½å³å¯å®Œæˆç™»å½•é—­ç¯ã€‚ 

![image.png](./images/eec1347d0f4f75207ca64e3f4a1a2970.png )

å¯ä»¥åœ¨ http://api.ig-space.com/doc#/%E7%94%A8%E6%88%B7/UserController_profile ç›´æ¥ä½¿ç”¨è·å–ç”¨æˆ·æ¥å£æ¥æµ‹è¯•é‰´æƒåŠŸèƒ½æ˜¯å¦è¿é€šã€‚

![image.png](./images/ccceacda8945688855dd841e76705caa.png )

## å†™åœ¨æœ€å

æœ¬ç« æ˜¯æ­£å¼è¿›å…¥æœåŠ¡ç«¯å¼€å‘çš„ç¬¬ä¸€ä¸ªç« èŠ‚ï¼Œéš¾åº¦è¾ƒä¹‹å‰å¯èƒ½æœ‰æ¯”è¾ƒå¤§å¹…åº¦çš„æå‡ï¼Œå¦‚æœæœ‰æœåŠ¡ç«¯çš„åŸºç¡€æˆ–è€…ä¹‹å‰ä¹°è¿‡ **NestJS** å°å†Œçš„åŒå­¦æ¥è¯´è¿˜æ˜¯æ¯”è¾ƒç®€å•çš„ï¼ˆå¹¶éæ¨å¹¿ **NestJS** å°å†Œï¼Œè‡ªå­¦èƒ½åŠ›å¼ºçš„åŒå­¦ä¸å»ºè®®ä¹° **NetsJS** çš„æ•™ç¨‹ï¼Œå› ä¸ºæœ¬èº«çš„æ–‡æ¡£å°±éå¸¸è¯¦ç»†ï¼Œå°å†Œä¸»è¦çš„ä»·å€¼å…¶å®æ˜¯æ¶æ„è®¾è®¡å•¥çš„ã€‚ï¼‰

ç”±äºæ•´ä¸ªé‰´æƒçš„å†…å®¹éå¸¸å¤šï¼Œ**æ‰€ä»¥å°å†Œç« èŠ‚ä¸­åªæœ‰ä¸»è¦çš„æ­¥éª¤ä»¥åŠå…³é”®çš„ä»£ç å®ç°**ï¼Œæ›´å¤šçš„å†…å®¹å¯ä»¥ç•™è¨€è®©æˆ‘è¡¥å……æˆ–è€…å‚è€ƒæœåŠ¡ç«¯çš„é¡¹ç›®æ¥å­¦ä¹ ã€‚

æœ¬ç« ä¸»è¦ä»‹ç»ç”¨æˆ·æˆæƒã€ç™»å½•ç­‰å†…å®¹ï¼Œä¸‹ä¸€ç« åˆ™ä¸»è¦è®²è¿°ç”¨æˆ·ç³»ç»Ÿä¸­ **RBAC** æƒé™çš„ç›¸å…³ä»£ç å®ç°ã€‚

å¦‚æœä½ æœ‰ä»€ä¹ˆç–‘é—®ï¼Œæ¬¢è¿åœ¨è¯„è®ºåŒºæå‡ºæˆ–è€…åŠ ç¾¤æ²Ÿé€šã€‚ ğŸ‘

